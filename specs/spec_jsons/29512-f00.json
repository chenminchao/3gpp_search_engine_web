[{"key": "Scope", "numbering": "1", "title_level": 0, "desc": "         1  Scope\n\nThe present document provides the stage 3 specification of the Session\nManagement Policy Control Service of 5G system. The stage 2 definition and\nrelated procedures of the Session Management Policy Control Service are\ncontained in 3GPP\u00a0TS\u00a023.502\u00a0[3] and 3GPP\u00a0TS\u00a023.503\u00a0[6]. The 5G System\nArchitecture is defined in 3GPP\u00a0TS\u00a023.501\u00a0[2].\n\nStage 3 call flows are provided in 3GPP\u00a0TS\u00a029.513\u00a0[7].\n\nThe Technical Realization of the Service Based Architecture and the\nPrinciples and Guidelines for Services Definition of the 5G System are\nspecified in 3GPP\u00a0TS\u00a029.500\u00a0[4] and\u00a03GPP\u00a0TS\u00a029.501\u00a0[5].\n\nThe The Policy Control Function with session related policies provides the\nSession Management Policy Control Service to the NF consumers (i.e. Session\nManagement Function).\n\n\n", "Keywords": ""}, {"key": "References", "numbering": "2", "title_level": 0, "desc": "2  References\n\nThe following documents contain provisions which, through reference in this\ntext, constitute provisions of the present document.\n\n  -  References are either specific (identified by date of publication,\n    edition number, version number, etc.) or non-specific.\n\n  -  For a specific reference, subsequent revisions do not apply.\n\n  -  For a non-specific reference, the latest version applies. In the case\n    of a reference to a 3GPP document (including a GSM document), a non-\n    specific reference implicitly refers to the latest version of that\n    document in the same Release as the present document.\n\n  [1]  3GPP\u00a0TR\u00a021.905: \"Vocabulary for 3GPP Specifications\".\n\n  [2]  3GPP\u00a0TS\u00a023.501: \"System Architecture for the 5G System; Stage 2\".\n\n  [3]  3GPP\u00a0TS\u00a023.502: \"Procedures for the 5G System; Stage 2\".\n\n  [4]  3GPP\u00a0TS\u00a029.500: \"5G System; Technical Realization of Service Based\n             Architecture; Stage 3\".\n\n  [5]  3GPP\u00a0TS\u00a029.501: \"5G System; Principles and Guidelines for Services\n             Definition; Stage 3\".\n\n  [6]  3GPP\u00a0TS\u00a023.503: \"Policy and Charging Control Framework for the 5G\n             System; Stage 2\".\n\n  [7]  3GPP\u00a0TS\u00a029.513: \"5G System; Policy and Charging Control signalling\n             flows and QoS parameter mapping; Stage 3\".\n\n  [8]  IETF\u00a0RFC\u00a07540: \"Hypertext Transfer Protocol Version 2 (HTTP/2)\".\n\n  [9]  IETF\u00a0RFC\u00a08259: \"The JavaScript Object Notation (JSON) Data\n             Interchange Format\".\n\n  [10] OpenAPI: \"OpenAPI 3.0.0 Specification\",\n             https://github.com/OAI/OpenAPI-\n             Specification/blob/master/versions/3.0.0.md\n\n  [11] 3GPP\u00a0TS\u00a029.571: \"5G System; Common Data Types for Service Based\n             Interfaces; Stage 3\".\n\n  [12] 3GPP\u00a0TS\u00a029.508: \"5G System; Session Management Event Exposure\n             Service; Stage 3\".\n\n  [13] 3GPP\u00a0TS\u00a029.244: \"Interface between the Control Plane and the User\n             Plane of EPC Nodes\".\n\n  [14] 3GPP\u00a0TS\u00a023.003: \"Numbering, addressing and identification\".\n\n  [15] 3GPP\u00a0TS\u00a029.519: \"5G System; Usage of the Unified Data Repository\n             service for Policy Control Data, Application Data and\n             Structured Data for Exposure; Stage 3\".\n\n  [16] 3GPP\u00a0TS\u00a023.228: \"IP multimedia subsystem; Stage\u00a02\".\n\n  [17] 3GPP\u00a0TS\u00a029.514: \"5G System; Policy Authorization Service; Stage 3\".\n\n  [18] 3GPP\u00a0TS\u00a029.214: \"Policy and Charging Control over Rx reference point\n             5\".\n\n\n", "Keywords": ""}, {"key": "Definitions, symbols and abbreviations", "numbering": "3", "title_level": 0, "desc": "3  Definitions, symbols and abbreviations\n\n\n", "Keywords": ""}, {"key": "Npcf_SMPolicyControl Service", "numbering": "4", "title_level": 0, "desc": "4  Npcf_SMPolicyControl Service\n\n\n", "Keywords": ""}, {"key": "Service Description", "numbering": "4.1", "title_level": 1, "desc": "4.1  Service Description\n\n\n", "Keywords": ""}, {"key": "Overview", "numbering": "4.1.1", "title_level": 2, "desc": "4.1.1  Overview\n\nThe Session Management Policy Control Service performs provisioning, update\nand removal of session related policies and PCC rules by the Policy Control\nFunction (PCF) to the NF service consumer (i.e. SMF). The Session\nManagement Policy Control Service can be used for charging control, policy\ncontrol and/or application detection and control. Session Management Policy\nControl Service applies to the cases where the SMF interacts with the PCF\nin the non-roaming scenario, the V-SMF interacts with the V-PCF in the\nlocal breakout roaming scenario and the H-SMF interacts with the H-PCF in\nthe home-routed scenario.\n\n\n", "Keywords": ""}, {"key": "Service Architecture", "numbering": "4.1.2", "title_level": 2, "desc": "4.1.2  Service Architecture\n\nThe Session Management Policy Control Service is provided by the PCF to the\nconsumer and shown in the SBI representation model in figure\u00a04.1.2-1 and in\nthe reference point representation model in figure\u00a04.1.2.2. The overall\nPolicy and Charging Control related 5G architecture is depicted in\n3GPP\u00a0TS\u00a029.513\u00a0[7].\n\nThe only known NF Service Consumer is the SMF.\n\n                                    [pic]\n\n     Figure\u00a04.1.2-1: Reference Architecture for the Npcf_SMPolicyControl\n                         Service; SBI representation\n\n                                    [pic]\n\n     Figure\u00a04.1.2-2: Reference Architecture for the Npcf_SMPolicyControl\n                   Service; reference point representation\n\n  NOTE:  The SMF represents the V-SMF and the PCF represents the V-PCF in\n         the local breakout scenario. The SMF represents the H-SMF and the\n         PCF represents the H-PCF in the home routed scenario.\n\n\n", "Keywords": ""}, {"key": "Network Functions", "numbering": "4.1.3", "title_level": 2, "desc": "4.1.3  Network Functions\n\n\n", "Keywords": ""}, {"key": "Policy Control Function (PCF)", "numbering": "4.1.3.1", "title_level": 3, "desc": "4.1.3.1  Policy Control Function (PCF)\n\nThe PCF is responsible for policy control decisions and flow based charging\ncontrol functionalities. The PCF provides the following:\n\n  -  policies for application and service data flow detection, gating, QoS,\n    flow based charging, traffic steering control, usage monitoring\n    control, access network information report and RAN support information\n    to the SMF.\n\nThe policy decisions made by the PCF may be based on one or more of the\nfollowing:\n\n  -  Information obtained from the AF, e.g. the session, media and\n    subscriber related information;\n\n  -  Information obtained from the UDR;\n\n  -  Information obtained from the AMF, e.g. UE related and access related\n    information;\n\n  -  Information obtained from the SMF;\n\n  -  Information obtained from the NWDAF;\n\n  -  Information obtained from the NEF;\n\n  -  Information obtained from another PCF in the roaming scenario;\n\n  -  information from OCS; and\n\n  -  PCF pre-configured policy context.\n\n\n", "Keywords": ""}, {"key": "NF Service Consumers", "numbering": "4.1.3.2", "title_level": 3, "desc": "4.1.3.2  NF Service Consumers\n\nThe SMF is responsible for the enforcement of session management related\npolicy decisions the PCF, related to service flow detection, QoS, charging,\ngating, traffic usage reporting and traffic steering\n\nThe SMF shall support:\n\n  -  requesting and receiving the PCC rule(s) from the PCF;\n\n  -  binding of service data flows to QoS flow as defined in\n    3GPP\u00a0TS\u00a029.513\u00a0[7];\n\n  -  deriving rule(s) from the PCC rule(s) and then providing those rules\n    to the user plane function  or remove the rule(s) from the user plane\n    as defined in 3GPP\u00a0TS\u00a029.244\u00a0[13];\n\n  -  deleting policy rules on the user plane;\n\n  -  sending usage reports to the PCF;\n\n  -  handling event notification requests;\n\n  -  sending event notification towards the PCF; and\n\n  -  sending charging related information to the PCF.\n\n     NOTE:  SMF functionality related to event exposure is defined in\n     3GPP\u00a0TS\u00a029.508\u00a0[12].\n\n\n", "Keywords": ""}, {"key": "Rules", "numbering": "4.1.4", "title_level": 2, "desc": "4.1.4  Rules\n\n\n", "Keywords": ""}, {"key": "General", "numbering": "4.1.4.1", "title_level": 3, "desc": "4.1.4.1  General\n\nA rule is a set of policy information elements associated with a PDU\nsession, or with service data flows or application identifiers (i.e., with\na PCC rule).\n\nTwo types of rules are defined:\n\n  -  Session rule; and\n\n  -  PCC rule.\n\nBoth Session rules and PCC rules are composed of embedded information\nelements as well as information elements that are part of the referenced\nobjects (e.g. condition data, or usage monitoring policy data type) by the\nrule.\n\nSessionRule is defined in subclause\u00a04.1.4.3. PccRule is defined in\nsubclause\u00a04.1.4.2.\n\n\n", "Keywords": ""}, {"key": "PCC rules", "numbering": "4.1.4.2", "title_level": 3, "desc": "4.1.4.2  PCC rules\n\n\n", "Keywords": ""}, {"key": "PCC rules definition", "numbering": "4.1.4.2.1", "title_level": 4, "desc": "4.1.4.2.1   PCC rules definition\n\nA PCC rule is a set of information elements enabling the detection of a\nservice data flow and providing parameters for policy control and/or\ncharging control.There are two different types of PCC rules as defined in\n3GPP\u00a0TS\u00a023.503\u00a0[6]:\n\n  -  Dynamic PCC rules. PCC rules that are dynamically provisioned by the\n    PCF to the SMF. These PCC rules may be either predefined or dynamically\n    generated in the PCF. Dynamic PCC rules can be installed, modified and\n    removed at any time.\n\n  -  Predefined PCC rules. PCC rules that are preconfigured in the SMF.\n    Predefined PCC rules can be activated or deactivated by the PCF at any\n    time. Predefined PCC rules within the PCF may be grouped allowing the\n    PCF to dynamically activate a set of PCC rules.\n\nA PCC rule consists of:\n\n              Table\u00a04.1.4.2.1-1: PCC rule information elements\n\n|Information name         |Description                              |Category|\n|Rule identifier          |Uniquely identifies the PCC rule, within |Mandator|\n|                         |a PDU Session.                           |y       |\n|                         |It is used between PCF and SMF for       |        |\n|                         |referencing PCC rules.                   |        |\n|5QI                      |Identifier for the authorized QoS        |Mandator|\n|                         |parameters for the service data flow.    |y       |\n|ARP                      |The Allocation and Retention Priority for|Mandator|\n|                         |the service data flow consisting of the  |y       |\n|                         |priority level, the pre-emption          |        |\n|                         |capability and the pre-emption           |        |\n|                         |vulnerability.                           |        |\n|Service Data Flow        |For IP PDU traffic: Either a list of     |Mandator|\n|Template                 |service data flow filters or an          |y       |\n|                         |application identifier that references   |        |\n|                         |the corresponding application detection  |        |\n|                         |filter for the detection of the service  |        |\n|                         |data flow.                               |        |\n|                         |For Ethernet PDU traffic: Combination of |        |\n|                         |traffic patterns of the Ethernet PDU     |        |\n|                         |traffic.                                 |        |\n|                         |Charging                                 |        |\n|Charging key             |The charging system (OCS or OFCS) uses   |Optional|\n|                         |the charging key to determine the tariff |        |\n|                         |to apply to the service data flow.       |        |\n|Service identifier       |The identity of the service or service   |Optional|\n|                         |component the service data flow in a rule|        |\n|                         |relates to.                              |        |\n|Sponsor Identifier       |An identifier, provided from the AF,     |Optional|\n|                         |which identifies the Sponsor, used for   |        |\n|                         |sponsored flows to correlate measurements|        |\n|                         |from different users for accounting      |        |\n|                         |purposes.                                |        |\n|Application Service      |An identifier, provided from the AF,     |Optional|\n|Provider Identifier      |which identifies the Application Service |        |\n|                         |Provider, used for sponsored flows to    |        |\n|                         |correlate measurements from different    |        |\n|                         |users for accounting purposes.           |        |\n|Charging method          |Indicates the required charging method   |Optional|\n|                         |for the PCC rule.                        |        |\n|                         |Values: online, offline or neither.      |        |\n|Measurement method       |Indicates whether the service data flow  |Optional|\n|                         |data volume, duration, combined          |        |\n|                         |volume/duration or event shall be        |        |\n|                         |measured.                                |        |\n|                         |This is applicable to reporting, if the  |        |\n|                         |charging method is online or offline.    |        |\n|                         |Note: Event based charging is only       |        |\n|                         |applicable to predefined PCC rules and   |        |\n|                         |PCC rules used for application detection |        |\n|                         |filter (i.e. with an application         |        |\n|                         |identifier).                             |        |\n|Application Function     |An identifier, provided from the AF,     |Optional|\n|Record Information       |correlating the measurement for the      |        |\n|                         |Charging key/Service identifier values in|        |\n|                         |this PCC rule with application level     |        |\n|                         |reports.                                 |        |\n|Service identifier level |Indicates that separate usage reports    |Optional|\n|reporting                |shall be generated for this Service      |        |\n|                         |identifier.                              |        |\n|                         |Values: mandated or not required.        |        |\n|                         |Policy control                           |        |\n|Gate status              |The gate status indicates whether the    |Optional|\n|                         |service data flow, detected by the       |        |\n|                         |service data flow template, may pass     |        |\n|                         |(Gate is open) or shall be discarded     |        |\n|                         |(Gate is closed).                        |        |\n|QoS Notification Control |Indicates whether notifications are      |Optional|\n|(QNC)                    |requested from 3GPP RAN when the GFBR can|        |\n|                         |no longer (or again) be fulfilled for a  |        |\n|                         |QoS Flow during the lifetime of the QoS  |        |\n|                         |Flow.                                    |        |\n|Reflective QoS Control   |Indicates to apply reflective QoS for the|Optional|\n|                         |SDF.                                     |        |\n|MBR (UL/DL)              |The uplink maximum bitrate authorized for|Optional|\n|                         |the service data flow.                   |        |\n|GBR (UL/DL)              |The downlink maximum bitrate authorized  |Optional|\n|                         |for the service data flow.               |        |\n|UL sharing indication    |Indicates resource sharing in uplink     |Optional|\n|                         |direction with service data flows having |        |\n|                         |the same value in their PCC rule.        |        |\n|DL sharing indication    |Indicates resource sharing in downlink   |Optional|\n|                         |direction with service data flows having |        |\n|                         |the same value in their PCC rule.        |        |\n|Redirect                 |Redirect state of the service data flow  |Optional|\n|                         |(enabled/disabled).                      |        |\n|Redirect Destination     |Controlled Address to which the service  |Optional|\n|                         |data flow is redirected when redirect is |        |\n|                         |enabled.                                 |        |\n|                         |Usage Monitoring Control                 |        |\n|Monitoring key           |The PCF uses the monitoring key to group |Optional|\n|                         |services that share a common allowed     |        |\n|                         |usage.                                   |        |\n|Indication of exclusion  |Indicates that the service data flow     |Optional|\n|from session level       |shall be excluded from PDU Session usage |        |\n|monitoring               |monitoring.                              |        |\n|                         |Traffic Steering Enforcement Control     |        |\n|Traffic steering policy  |Reference to a pre-configured traffic    |Optional|\n|identifier(s)            |steering policy at the SMF.              |        |\n|Data Network Access      |Identifier of the target Data Network    |Optional|\n|Identifier               |Access.                                  |        |\n|Data Network Access      |Indicates whether a notification in case |Optional|\n|Change report            |of change of DNAI at                     |        |\n|                         |addition/change/removal of the UPF is    |        |\n|                         |requested, as well as the destination(s) |        |\n|                         |for where to provide the notification.   |        |\n|                         |The notification information includes the|        |\n|                         |target DNAI and an indication of early   |        |\n|                         |and/or late notification.                |        |\n\n\n  Editor's note: The above table is FFS and will be further revised\n         (elements added and/or removed). This table needs to be aligned\n         with the grouping of decision data and PCC rule content as defined\n         in subclause 5.6.2.6.\n\nThe above information is organized into a set of decision data objects as\ndefined in subclause\u00a04.1.4.4. The exact encoding of PCC rules is defined in\nsubclause\u00a05.6.2.6.\n\n\n", "Keywords": ""}, {"key": "PCC rules operation", "numbering": "4.1.4.2.2", "title_level": 4, "desc": "4.1.4.2.2   PCC rules operation\n\nFor dynamic PCC rules, the following applies:\n\n  -  Installation: to provision the PCC rules.\n\n  -  Modification: to modify the PCC rules.\n\n  -  Removal: to remove the PCC rules.\n\nFor predefined PCC rules, the following operations are available:\n\n  -  Activation: to activate the PCC rules.\n\n  -  Deactivation: to deactivate the PCC rules.\n\n\n", "Keywords": ""}, {"key": "SessionRule", "numbering": "4.1.4.3", "title_level": 3, "desc": "4.1.4.3  SessionRule\n\nA session rule consists of policy information elements associated with PDU\nsession. The encoding of the SessionRule data type is defined in\nsubclause\u00a05.6.2.7.\n\nA session rule may include:\n\n  -  Session Rule ID;\n\n  -  Authorized Session AMBR;\n\n  -  Authorized Default QoS;\n\n  -  Reference to Usage Monitoring Data; and\n\n  -  Reference to Condition Data.\n\n\n", "Keywords": ""}, {"key": "Policy Decision types", "numbering": "4.1.4.4", "title_level": 3, "desc": "4.1.4.4  Policy Decision types\n\n\n", "Keywords": ""}, {"key": "General", "numbering": "4.1.4.4.1", "title_level": 4, "desc": "4.1.4.4.1   General\n\nA policy decision is a grouping of cohesive information elements describing\na specific type of decision, e.g. QoS, Charging data, etc. A policy\ndecision can be linked to one or more PCC rules or one or more Session\nrules.\n\nThe following types of policy decision are defined:\n\n  -  Traffic control data;\n\n  -  QoS data;\n\n  -  Charging data; and\n\n  -  Usage Monitoring data.\n\n\n", "Keywords": ""}, {"key": "Traffic control data definition", "numbering": "4.1.4.4.2", "title_level": 4, "desc": "4.1.4.4.2   Traffic control data definition\n\nTraffic control data defines how traffic data flows associated with a rule\nare treated (e.g. blocked, redirected). The traffic control data encoding\ntable is defined in subclause\u00a05.6.2.10.\n\nTraffic control data may include:\n\n  -  Traffic Control Data ID;\n\n  -  Dnai;\n\n  -  Flow Action;\n\n  -  Redirect Information;\n\n  -  Mute Notification;\n\n  -  Traffic Steering Policy ID UL; and\n\n  -  Traffic Steering Policy ID DL.\n\n\n", "Keywords": ""}, {"key": "QoS data definition", "numbering": "4.1.4.4.3", "title_level": 4, "desc": "4.1.4.4.3   QoS data definition\n\nQoS data defines QoS parameters (e.g. bitrates) associated with a rule. The\nQoS data encoding table is defined in subclause\u00a05.6.2.8.\n\nQoS data may include:\n\n  -  QoS Data ID;\n\n  -  5QI;\n\n  -  QNC;\n\n  -  Packet Loss Rate UL;\n\n  -  Packet Loss Rate DL;\n\n  -  Maximum Bit Rate UL;\n\n  -  Maximum Bit Rate DL;\n\n  -  Guaranteed Bit Rate UL;\n\n  -  Guaranteed Bit Rate DL;\n\n  -  Allocation Retention Priority; and\n\n  -  Reflective QoS attribute.\n\n\n", "Keywords": ""}, {"key": "Charging data definition", "numbering": "4.1.4.4.4", "title_level": 4, "desc": "4.1.4.4.4   Charging data definition\n\nCharging data defines charging related parameters (e.g. rating group)\nassociated with a rule. The charging data encoding table is defined in\nsubclause\u00a05.6.2.11.\n\nCharging data may include:\n\n  -  Charging Data ID;\n\n  -  Metering Method;\n\n  -  Charging Method (online/offline);\n\n  -  Rating Group;\n\n  -  Service ID;\n\n  -  Sponsor ID;\n\n  -  Application Service Provider ID; and\n\n  -  AF Charging ID.\n\n\n", "Keywords": ""}, {"key": "UsageMonitoring data definition", "numbering": "4.1.4.4.5", "title_level": 4, "desc": "4.1.4.4.5   UsageMonitoring data definition\n\nUsageMonitoring data defines usage monitoring information associated with a\nrule. The UsageMonitoring data encoding table is defined in\nsubclause\u00a05.6.2.12.\n\nUsage Monitoring Data may include:\n\n  -  Usage Monitoring ID;\n\n  -  Volume Threshold (UL,DL);\n\n  -  Time Threshold;\n\n  -  Monitoring Time;\n\n  -  Next Volume Threshold (UL, DL);\n\n  -  Next Time Threshold; and\n\n  -  Inactivity Time Threshold.\n\n\n", "Keywords": ""}, {"key": "Policy control request trigger", "numbering": "4.1.5", "title_level": 2, "desc": "4.1.5  Policy control request trigger\n\nPolicy control request trigger is a condition when the SMF shall interact\nagain with PCF for further policy decision of a PDU session.\n\nThe policy control request trigger is designed as an Enumeration type\ndefined in the subclause 5.6.3.6.\n\n  Editor's note: Further descriptions are needed for the independent policy\n         control request triggers.\n\nThe PCF can provide an array of policy control request triggers in policy\ndecision to subscribe the triggers in SMF.\n\nWhen SMF interacts with PCF due to the triggering of the policy control\nrequest triggers, the corresponding triggers shall be included in the\nrequest.\n\n\n", "Keywords": ""}, {"key": "Requested rule data", "numbering": "4.1.6", "title_level": 2, "desc": "4.1.6  Requested rule data\n\nRequested rule data consists of requested information by the PCF associated\nwith one or more PCC rules.\n\nThe requested rule data is designed as a subresource of the policy decision\nwithin an attribute called \"lastReqRuleData\". The PCF only records the last\nrequested rule data.\n\nWhen requesting rule data, the PCF shall include the types of data\nrequested for the rules within the \"reqData\" array of the \"lastReqRuleData\"\nand shall also provide the corresponding policy control request triggers if\nthe triggers are not yet set.\n\nThe encoding of the requested rule data is further specified in\nsubclause\u00a05.6.2.23.\n\n\n", "Keywords": ""}, {"key": "Requested Usage data", "numbering": "4.1.7", "title_level": 2, "desc": "4.1.7  Requested Usage data\n\nRequested Usage data consists of requested usage reports by the PCF for one\nor more instances of UsageMonitoringData.\n\nThe requested usage data is designed as a sub resource of the policy\ndecision within an attribute called \"lastReqUsageCtlData\". The PCF only\nrecords the last requested usage data.\n\nThe encoding of the requested usage data is further specified in\nsubclause\u00a05.6.2.24.\n\n\n", "Keywords": ""}, {"key": "Service Operations", "numbering": "4.2", "title_level": 1, "desc": "4.2  Service Operations\n\n\n", "Keywords": ""}, {"key": "Introduction", "numbering": "4.2.1", "title_level": 2, "desc": "4.2.1  Introduction\n\nThe service operations defined for Npcf_SMPolicyControl are shown in\ntable\u00a04.2.1-1.\n\n               Table 4.2.1-1: Npcf_SMPolicyControl Operations\n\n|Service Operation Name  |Description                     |Initiated by   |\n|Npcf_SMPolicyControl_Cre|Request to create an SM Policy  |NF consumer    |\n|ate                     |Association with the PCF to     |(SMF)          |\n|                        |receive the policy for a PDU    |               |\n|                        |session.                        |               |\n|Npcf_SMPolicyControl_Upd|Request to update the SM Policy |NF consumer    |\n|ate                     |association with the PCF to     |(SMF)          |\n|                        |receive the updated policy when |               |\n|                        |Policy Control Request Trigger  |               |\n|                        |condition is met.               |               |\n|Npcf_SMPolicyControl_Upd|Update and/or delete the PCC    |PCF            |\n|ateNotify               |rule(s) PDU session related     |               |\n|                        |policy context at the SMF and   |               |\n|                        |Policy Control Request Trigger  |               |\n|                        |information.                    |               |\n|Npcf_SMPolicyControl_Del|Request to delete the SM Policy |NF consumer    |\n|ete                     |Association and the associated  |(SMF)          |\n|                        |resources.                      |               |\n\n\n\n", "Keywords": ""}, {"key": "Npcf_SMPolicyControl_Create Service Operation", "numbering": "4.2.2", "title_level": 2, "desc": "4.2.2  Npcf_SMPolicyControl_Create Service Operation\n\n\n", "Keywords": ""}, {"key": "General", "numbering": "4.2.2.1", "title_level": 3, "desc": "4.2.2.1  General\n\nThe Npcf_SMPolicyControl_Create service operation provides means for the\nSMF to request the creation of a corresponding SM Policy Association with\nPCF.\n\nThe Session Management procedures of the SMF and related to policies are\ndefined in 3GPP\u00a0TS\u00a023.501\u00a0[2], 3GPP\u00a0TS\u00a023.502\u00a0[3] and 3GPP\u00a0TS\u00a023.503[6].\n\nThe following procedures using the Npcf_SMPolicyControl_Create service\noperation are supported:\n\n  -  Request of creation of a corresponding SM Policy Association with PCF.\n\n\n", "Keywords": ""}, {"key": "SMPolicyControl_Create", "numbering": "4.2.2.2", "title_level": 3, "desc": "4.2.2.2  SMPolicyControl_Create\n\n                                    [pic]\n\n                  Figure 4.2.2.2-1: SMPolicyControl_Create\n\nWhen the SMF receives the Nsmf_PDUSession_CreateSMContext Request as\ndefined in subclause\u00a05.2.2.2 of 3GPP\u00a0TS\u00a029.502\u00a0[2], if the SMF is being\nrequested via Nsmf_PDUSession_CreateSMContext Request not to interact with\nthe PCF, the SMF shall not interact with the PCF; otherwise, the SMF shall\nsend the POST method as step 1of the figure\u00a04.2.2.2-1 to request to create\nan \"Individual SM Policy\".\n\n  NOTE\u00a01:  The decision to not interact with PCF applies for the life time\n         of the PDU session.\n\n  NOTE\u00a02:  The indicator to not interact with PCF is configured in the UDR.\n         It is delivered to the SMF within the Charging Characteristics. The\n         indicator is operator specific, therefore it can only be used in\n         non-roaming and home routed roaming cases.\n\nThe SMF shall include smPolicyContextData in the payload body of the HTTP\nPOST to request a creation of representation of the \"Individual SM Policy\"\nresource. The \"Individual SM Policy\" resource is created as described\nbelow.\n\nThe SMF shall include (if available) in \"smPolicyContextData\":\n\n  -  SUPI of the user within the \"supi\" attribute;\n\n  -  PDU Session Id within the \"pduSessionId\" attribute;\n\n  -  DNN within the \"dnn\" attribute;\n\n  -  URL identifying the recipient of SM policies update notification\n    within the \"smPoliciesUpdateNotificationUrl\" attribute;\n\n  -  PEI within the \"pei\" attribute;\n\n  -  type of access within the \"accessType\" attribute;\n\n  -  type of the radio access technology within the \"ratType\" attribute;\n\n  -  the UE Ipv4 address within the \"ipv4Address\" attribute and/or the UE\n    Ipv6 prefix within the \"ipv6AddressPrefix\" attribute;\n\n  -  the UE time zone information within \"ueTimeZone\" attribute;\n\n  -  subscribed Session-AMBR within \"subscribedSessionAmbr\" attribute;\n\n  -  subscribed Default QoS Information within\n    \"subscribedDefaultQoSInformation\" attribute;\n\n  -  user location information within the \"userLocationInformation\"\n    attribute; and\n\n  -  identifier of the serving network within the \"servingNetwork\"\n    attribute.\n\n  Editor's note:  Other information included in the POST message is FFS.\n\nWhen the PCF receives the HTTP POST request from the SMF, the PCF shall\nmake an authorization based on the information received from the SMF and,\nif available, AMF, CHF, AF, UDR, NWDAF and operator policy pre-configured\nat the PCF. If the authorization is successful, the PCF shall create a new\nresource, which represents \"Individual SM Policy\", addressed by a URI as\ndefined in subclause\u00a05.3.3.2 and contains a PCF created resource\nidentifier. The PCF shall respond to the SMF with a 201 Created message,\nincluding:\n\n  -  Location header field containing the URI for the created resource; and\n\n  -  a response body providing session management related policies; and\n\n  -  (optionally also containing policy control request triggers) encoded\n    within the SmPolicyDecision data structure. Detailed procedures related\n    to the provisioning and enforcement of the policy decisions within the\n    SmPolicyDecision data structure are contained in subclause\u00a04.2.6.\n\nThe SMF shall use the URI received in the Location header in subsequent\nrequests to the PCF to refer to the \"Individual SM Policy\".\n\n  Editor's note:  Description of failure cases is FFS.\n\n\n", "Keywords": ""}, {"key": "Provisioning of charging related information for PDU session", "numbering": "4.2.2.3", "title_level": 3, "desc": "4.2.2.3  Provisioning of charging related information for PDU session\n\n\n", "Keywords": ""}, {"key": "Provisioning of Charging Addresses", "numbering": "4.2.2.3.1", "title_level": 4, "desc": "4.2.2.3.1   Provisioning of Charging Addresses\n\nThe PCF may provide the CHF address to the SMF during the initial\ninteraction with the SMF defining the charging function respectively. In\norder to do so, the PCF shall include a chargingData attribute and a\nsessionRule attribute within the \"sMPolicyControl\" attribute in the\nresponse of HTTP POST message. The PCF shall include the CHF addresses\nwithin a \"chargingInformation\" attribute of the \"chargingData\" attribute\nand included the \"decisionId\" attribute of \"chargingData\" in the\nsessionRule. Both primary CHF address within a \"primaryChfAddress\"\nattribute and secondary CHF address within a \"secondaryChfAddress\"\nattribute shall be provided simultaneously. These shall overwrite any\npredefined addresses at the SMF. Provisioning CHF addresses without PCC\nrules for charged service data flows, respectively, shall not be considered\nas an error since such PCC rules may be provided in later provisioning.\n\nIf no CHF address is available at the SMF (i.e. no predefined CHF\naddresses, and no CHF addresses supplied by the PCF and/or by the Charging\nCharacteristics), the PCF shall use the SUPI (MNC and MCC values of the\nIMSI) of the user to construct the CHF Home network domain name as\nspecified in 3GPP\u00a0TS\u00a023.003\u00a0[14], clause\u00a025.\n\n\n", "Keywords": ""}, {"key": "Provisioning of Default Charging Method", "numbering": "4.2.2.3.2", "title_level": 4, "desc": "4.2.2.3.2   Provisioning of Default Charging Method\n\nThe default charging method indicates what charging method shall be used\nfor every PCC rule where the charging method is omitted within the PCC\nrule. The SMF may have a pre-configured default charging method.\n\nUpon the initial interaction with the PCF, the SMF shall provide the pre-\nconfigured default charging method, if available, within the chargingMethod\nattribute embedded directly within the \"smPolicyContextData\" attribute of\nHTTP POST message to the PCF.\n\nThe PCF may provide the default charging method which applies to the PDU\nsession. In order to do so, the PCF shall include a \"chargingData\"\nattribute and a \"sessionRule\" attribute within the \"sMPolicyControl\"\nattribute in the response of HTTP POST message. The PCF shall include the\noffline attribute set to true, if offline charging applies and/or online\nattribute set to true, if online charging applies within the \"chargingData\"\nattribute and included the \"decisionId\" attribute of \"chargingData\" in the\nsessionRule. The default charging method provided by the PCF shall\noverwrite any predefined default charging method at the SMF.\n\n\n", "Keywords": ""}, {"key": "Provisioning of revalidation time", "numbering": "4.2.2.4", "title_level": 3, "desc": "", "Keywords": ""}, {"key": "Policy provisioning and enforcement of authorized AMBR per", "numbering": "4.2.2.5", "title_level": 3, "desc": "4.2.2.4  Provisioning of revalidation time\n\nThe SMF may within the SmPolicyDecision data structure provide the\nrevalidation time within the \"revalidationTime\" attribute and the\nRE_TIMEOUT policy control request trigger within the\n\"policyCtrlReqTriggers\" attribute to instruct the SMF to trigger a PCF\ninteraction to request PCC rule from the PCF.\n\nThe SMF shall start the timer based on the revalidation time and shall send\nthe PCC rule request before the indicated revalidation time.\n\n\n4.2.2.5  Policy provisioning and enforcement of authorized AMBR per PDU\n           session\n\nThe SMF may include the subscribed AMBR per PDU session with the\n\"subsSessAmbr\" attribute within the SmPolicyContextData data structure as\ndefined in subclause\u00a04.2.2.2. The PCF shall authorize the session AMBR\nbased on the operator's policy and provision the authorized session AMBR to\nthe SMF in the response of the message as defined in subclause\u00a04.2.6.3.1\nand 4.2.6.3.2.\n\nUpon receiving the authorized session AMBR, the SMF shall apply the\ncorresponding procedures towards the access network, the UE and the UPF for\nthe enforcement of the AMBR per PDU session.\n\n\n", "Keywords": ""}, {"key": "Policy provisioning and enforcement of authorized default QoS", "numbering": "4.2.2.6", "title_level": 3, "desc": "", "Keywords": ""}, {"key": "Provisioning of PCC rule for Application Detection and", "numbering": "4.2.2.7", "title_level": 3, "desc": "4.2.2.6  Policy provisioning and enforcement of authorized default QoS\n\nDuring the PDU session establishment as defined in subclause\u00a04.2.2.2, the\nSMF may include the subscribed default QoS with the \"subsDefQos\" attribute.\nThe PCF shall provision the authorized default QoS to the SMF in the\nresponse of the message as defined in subclause\u00a04.2.6.3.1 and 4.2.6.3.2.\n\nUpon receiving the authorized default QoS, the SMF enforces it which may\nlead to the change of the subscribed default QoS. The SMF shall apply the\ncorresponding procedures towards the access network, the UE and the UPF for\nthe enforcement of the authorized default QoS.\n\n\n4.2.2.7  Provisioning of PCC rule for Application Detection and Control\n\nIf the ADC feature is supported, and the user subscription indicates that\nthe application detection and control is required, the PCF may provision\nPCC rule for application detection and control as defined in\nsubclause\u00a04.2.6.2.11 in the response message.\n\nIf the SMF receives the PCC rule for application detection and control, the\nSMF shall instruct the UPF as defined in 3GPP\u00a0TS\u00a029.244 [13] to detect the\napplication traffic.\n\n\n", "Keywords": ""}, {"key": "3GPP PS Data Off Support", "numbering": "4.2.2.8", "title_level": 3, "desc": "4.2.2.8  3GPP PS Data Off Support\n\nWhen the 3GPP-PS-Data-Off feature as defined in subclause\u00a05.8 is supported,\nand if the SMF is informed that the 3GPP PS Data Off status of the UE is\nset to active during the PDU session establishment, it shall include the\n\"3gppPsDataOffStatus\" attribute set to true within the SmPolicyContextData\ndata structure in the HTTP POST message as defined in subclause\u00a04.2.2.2.\n\nIf the PCF receives that HTTP POST message with a \"3gppPsDataOffStatus\" set\nto true as above and the  access type of the PDU session indicated as\n\"3GPP_ACCESS\", the PCF shall configure the SMF to block any downlink and\noptionally uplink IP flows not relating to a service within the list of\n3GPP PS Data Off Exempt Services, for instance by not installing any\nrelated dynamic PCC rule(s) or by not activating related predefined PCC\nrule(s) such as PCC rule(s) with wild-carded service data flow filters. The\nPCRF may also, subject to its normal policies, provide the PCC rule for\nservice(s) from the list of 3GPP PS Data Off Exempt Service as defined in\nsubclause\u00a04.2.6.2.1.\n\n  NOTE\u00a01:  The PCF can be configured with a list of 3GPP PS Data Off Exempt\n         Services per DNN. The list of 3GPP PS Data Off Exempt Services for\n         an DNN can also be empty, or can allow for any service within that\n         DNN, according to operator policy.\n\n  NOTE 2:  For the PDU session used for IMS services, the 3GPP Data Off\n         Exempt Services are enforced in the IMS domain as specified\n         3GPP\u00a0TS\u00a023.228\u00a0[16]. Policies configured in the PCF need to ensure\n         that IMS services are allowed when the 3GPP Data Off status of the\n         UE is set to activated, e.g. by treating any service within a well-\n         known IMS DNN as 3GPP PS Data Off Exempt Services.\n\n\n", "Keywords": ""}, {"key": "IMS Emergency Session Support", "numbering": "4.2.2.9", "title_level": 3, "desc": "4.2.2.9  IMS Emergency Session Support\n\nA SMF that requests PCC Rules at PDU Session Establishment shall send an\nHTTP POST message as defined in subclause 4.2.2.2 and the \"dnn\" attribute\nincluding the Emergency DNN. The SMF may include the SUPI within the \"supi\"\nattribute and if the SUPI is not available, the SMF shall include the PEI\nwithin the \"pei\". The SMF may include the rest of the attributes described\nin subclause\u00a04.2.2.2. The SMF may also include the GPSI if available within\nthe \"gpsi\" attribute.\n\nThe PCF shall detect that a PDU session is restricted to IMS Emergency\nservices when the HTTP POST message is received and the \"dnn\" attribute\nincludes a data network identifier that matches one of the Emergency DNs\nfrom the configurable list. The PCF:\n\n  -  shall provision PCC Rules restricting the access to Emergency Services\n    (e.g. P-CSCF(s), DHCP(s) and DNS (s) and SUPL(s) addresses) as required\n    by local operator policies in a response message according to the\n    procedures described in clause\u00a04.2.6.\n\n  -  may provision the authorized QoS that applies to the default QoS flow\n    within the \"authDefQos\" attribute of a session rule according to the\n    procedures described in subclause\u00a04.2.8.4 except for obtaining the\n    authorized QoS upon interaction with the UDR. The value for the\n    \"priorityLevel\" attribute shall be assigned as required by local\n    operator policies (e.g. if an IMS Emergency session is prioritized the\n    \"priorityLevel\" attribute may contain a value that is reserved for an\n    operator domain use of IMS Emergency sessions). If the \"accessType\"\n    attribute is assigned to \"3GPP_ACCESS\" the values for \"preemptCap\"\n    attribute and the \"preemptVuln\" attribute shall be assigned as required\n    by local operator policies.\n\n  -  may provision the authorized session AMBR in the response message\n    according to the procedures described in clause\u00a04.2.8.3.\n\nWhen the SMF detects that the provisioning of PCC Rules failed, the PCC\nrule error handling procedure shall be performed.\n\n\n", "Keywords": ""}, {"key": "Request Usage Monitoring Control", "numbering": "4.2.2.10", "title_level": 3, "desc": "4.2.2.10 Request Usage Monitoring Control\n\nIf the UMC as defined in subclause\u00a05.8 is support, the PCF may provision\nthe usage monitoring control policy to the SMF as defined in\nsubclause\u00a04.2.6.4.3.\n\n\n", "Keywords": ""}, {"key": "Npcf_SMPolicyControl_UpdateNotify Service Operation", "numbering": "4.2.3", "title_level": 2, "desc": "4.2.3  Npcf_SMPolicyControl_UpdateNotify Service Operation\n\n\n", "Keywords": ""}, {"key": "General", "numbering": "4.2.3.1", "title_level": 3, "desc": "4.2.3.1  General\n\nThe UpdateNotify service operation provides updated Session Management\nrelated policies to the NF service consumer (SMF) or triggers the deletion\nof the context of SM related policies. The POST method is used for both,\nupdate and delete operations.\n\nThe following procedures using the Npcf_SMPolicyControl_UpdateNotify\nservice operation are supported:\n\n  -  PCF initiated update of the policies associated with the PDU session.\n\n  -  PCF initiated deletion of SM Policy Association of a PDU session.\n\n\n", "Keywords": ""}, {"key": "SM Policy Association Notification request", "numbering": "4.2.3.2", "title_level": 3, "desc": "4.2.3.2  SM Policy Association Notification request\n\n\n\n                                    [pic]\n\n   Figure 4.2.3.2-1: SMPolicyControl UpdateNotify Update Service Operation\n\n  1. The PCF shall send a POST request to the NF Service Consumer (SMF)\n    (../{smPoliciesUpdateNotifyUri}/notify). The payload body of the\n    message shall contain an SmPolicyNotification data structure that\n    contains the representation of the updated policies within the\n    SmPolicyDecision data structure. Detailed procedures related to the\n    provisioning and enforcement of the policy decisions within the\n    SmPolicyDecision data structure are contained in subclause\u00a04.2.6.\n\n  2. In case of a successful update of PCC rule(s) a \"200 OK\" shall be\n    returned in the response.\n\n  Editor's note:  If a body is being sent in the response and the content\n         is FFS.\n\n\n", "Keywords": ""}, {"key": "SM Policy Association termination request", "numbering": "4.2.3.3", "title_level": 3, "desc": "4.2.3.3  SM Policy Association termination request\n\n\n\n                                    [pic]\n\n      Figure 4.2.3.3-1: SMPolicyControl UpdateNotify Service Operation\n\n  1. The PCF shall send a POST request to the NF Service Consumer (SMF)\n    (../{smPoliciesUpdateNotifyUri}/delete). The PCF shall provide in the\n    body of the HTTP POST request the identifier of the individual SM\n    policy resource and the PDU session termination request.\n\n  2. If the SMF accepted received POST request the SMF shall send \"204 No\n    Content\" response.\n\n  Editor's note:  Additional encoding details will be added when they are\n         agreed.\n\n  Editor's note:  Description of failure cases is FFS.\n\n\n", "Keywords": ""}, {"key": "Provisioning of revalidation time", "numbering": "4.2.3.4", "title_level": 3, "desc": "", "Keywords": ""}, {"key": "Policy provisioning and enforcement of authorized AMBR per", "numbering": "4.2.3.5", "title_level": 3, "desc": "4.2.3.4  Provisioning of revalidation time\n\nDuring the lifetime of the PDU session, within the SmPolicyDecision data\nstructure, the PCF may provide the revalidation time within the\n\"revalidationTime\" attribute and the RE_TIMEOUT policy control request\ntrigger within the \"policyCtrlReqTriggers\" attribute to instruct the SMF to\ntrigger a PCF interaction to request PCC rule from the PCF if not provided\nyet. The PCF may also update the revalidation time by including the new\nvalue within the \"revalidationTime\" attribute. The PCF may disable the\nrevalidation function by removing RE_TIMEOUT policy control request trigger\nif it has been provided.\n\nIf the SMF receives revalidation time or new revalidation time, the SMF\nshall store the received value and start the timer based on it. Then the\nSMF shall send the PCC rule request before the indicated revalidation time.\n\nIf the RE_TIMEOUT policy control request trigger is removed, SMF shall stop\nthe timer for revalidation.\n\n\n4.2.3.5  Policy provisioning and enforcement of authorized AMBR per PDU\n           session\n\nThe PCF may modify the authorized session AMBR at any time during the\nlifetime of the PDU session and provision it to the SMF by invoking the\nprocedure as defined in subclause\u00a04.2.3.2. The PCF shall provision the new\nauthorized session AMBR to the SMF in the response of the message as\ndefined in subclause\u00a04.2.6.2.1 and 4.2.6.2.2.\n\nUpon receiving the authorized session AMBR, the SMF shall apply the\ncorresponding procedures towards the access network, the UE and the UPF for\nthe enforcement of the AMBR per PDU session.\n\n\n", "Keywords": ""}, {"key": "Policy provisioning and enforcement of authorized default QoS", "numbering": "4.2.3.6", "title_level": 3, "desc": "", "Keywords": ""}, {"key": "Provisioning of PCC rule for Application Detection and", "numbering": "4.2.3.7", "title_level": 3, "desc": "4.2.3.6  Policy provisioning and enforcement of authorized default QoS\n\nThe PCF may modify the authorized default QoS during the lifetime of the\nPDU session and provision it to the SMF by invoking the procedure as\ndefined in subclause\u00a04.2.3.2. The PCF shall provision the authorized\ndefault QoS to the SMF in the response of the message as defined in\nsubclause\u00a04.2.6.2.1 and 4.2.6.2.2.\n\nUpon receiving the authorized default QoS, the SMF enforces it which may\nlead to the change of the subscribed default QoS. The SMF shall apply the\ncorresponding procedures towards the access network, the UE and the UPF for\nthe enforcement of the authorized default QoS.\n\n\n4.2.3.7  Provisioning of PCC rule for Application Detection and Control\n\nIf the ADC feature is supported, and the user subscription indicates that\nthe application detection and control is required, the PCF may provision\nPCC rule for application detection and control as defined in\nsubclause\u00a04.2.6.2.11 in the HTTP POST request.\n\nIf the SMF receives the PCC rule for application detection and control, the\nSMF shall instruct the UPF as defined in 3GPP\u00a0TS\u00a029.244 [13] to detect the\napplication traffic.\n\n\n", "Keywords": ""}, {"key": "3GPP PS Data Off Support", "numbering": "4.2.3.8", "title_level": 3, "desc": "4.2.3.8  3GPP PS Data Off Support\n\nWhen the PCF receives service information from the AF while the 3GPP PS\nData Off handling functionality is active, the PCF shall check whether the\ncorresponding service is a 3GPP PS Data Off Exempt Service and permissible\naccording to the user\u00b4s subscription and the policies of the PCF. If so,\nthe PCF shall install, modify or delete corresponding PCC rules. Otherwise,\nthe PCF shall reject the service information from the AF.\n\nIf the PCF determines that the 3GPP PS Data Off handling functionality\nbecomes inactive, the PCF shall perform policy control decision and\nprovision the PCC rules to make sure that services are allowed according to\nthe user's subscription and operator policy (irrespective of whether they\nbelong to the list of 3GPP PS Data Off Exempt Services).\n\n  NOTE:  The PCF can then open gates via the \"flowStatus\" attribute for\n         active PCC associated to services not within the list 3GPP PS Data\n         Off Exempt Services. The PCF can also install PCC rules or activate\n         predefined PCC rules for some services not belonging to the list\n         3GPP PS Data Off Exempt Services. If the PCF activates or installs\n         a PCC rule with wildcarded filters, it can remove or de-activate\n         PCC rules for 3GPP PS Data Off Exempt Services that are made\n         redundant by this PCC rule.\n\n\n", "Keywords": ""}, {"key": "IMS Emergency Session Support", "numbering": "4.2.3.9", "title_level": 3, "desc": "4.2.3.9  IMS Emergency Session Support\n\n\n", "Keywords": ""}, {"key": "Provisioning of PCC rule", "numbering": "4.2.3.9.1", "title_level": 4, "desc": "4.2.3.9.1   Provisioning of PCC rule\n\nWhen the PCF receives IMS service information from the AF for an Emergency\nservice and derives authorized PCC Rules from the service information, the\n\"priorityLevel\" attribute in the QoS information within the PCC Rule shall\nbe assigned a priority as required by local operator policies (e.g. if an\nIMS Emergency session is prioritized the \"priorityLevel\" attribute may\ncontain a value that is reserved for an operator domain use of IMS\nEmergency session). If the \"accessType\" attribute is assigned to \"3GPP-\nACCESS\" and the \"preemptCap\" attribute and \"preemptVuln\" attribute were\nreceived within the \"arp\" attribute in the \"subsDefQos\" attribute in the\nHTTP POST message, the values of the \"preemptCap\" attribute and\n\"preemptVuln\" attribute shall also be assigned as required by local\noperator policies.\n\nThe PCF shall immediately initiate the procedure as described in\nclause\u00a04.2.6.2.1 to provision PCC Rules and the procedures described in\nclause\u00a04.2.6.2.3 to provision the authorized QoS per service data flow.\n\nThe provisioning of PCC Rules at the SMF that require the establishment of\na dedicated QoS flow for emergency services shall cancel the inactivity\ntimer in the SMF, if running.\n\nAny SMF-initiated request for PCC Rules for an IMS Emergency service\ntriggered by \"authPolicyConReqTrigger\" assigned to \"RES_MO_RE\" (i.e. UE-\ninitiated resource reservation) shall be rejected by the PCF with an\nappropriate status code.\n\nThe SMF shall execute the procedures to ensure that a new QoS flow is\nestablished for the Emergency service.\n\nWhen the SMF detects that the provisioning of PCC Rules failed, the PCC\nrule error handling procedure shall be performed.\n\n\n", "Keywords": ""}, {"key": "Removal of PCC Rules for Emergency Services", "numbering": "4.2.3.9.2", "title_level": 4, "desc": "4.2.3.9.2   Removal of PCC Rules for Emergency Services\n\nThe reception of a request to terminate an AF session for an IMS Emergency\nservice by the PCF triggers the removal of PCC Rules assigned to the\nterminated IMS Emergency Service from the SMF by using the procedure as\ndefined in subclause 4.2.6.2.1 to removed PCC Rules.\n\nAt reception of an HTTP POST message that removes one or several PCC Rules\nfrom an PDU Session restricted to emergency services the SMF shall:\n\n  -  when all PCC Rules bound to a QoS flow are removed, initiate a QoS\n    flow termination procedure.\n\n  -  when not all PCC Rule bound a QoS flow are removed, initiate an QoS\n    flow modification procedure.\n\nIn addition, the SMF shall initiate an inactivity timer if all PCC Rules\nwith a 5QI other than the default QoS flow 5QI or the 5QI used for IMS\nsignalling were removed from the PDU session restricted to Emergency\nServices. When the inactivity timer expires, the SMF shall initiate a PDU\nsession termination procedure as defined in clause\u00a04.2.3.3.\n\n\n", "Keywords": ""}, {"key": "Request of Access Network Information", "numbering": "4.2.3.10", "title_level": 3, "desc": "4.2.3.10 Request of Access Network Information\n\nWhen the NetLoc feature is supported, if the AF requests the PCF to report\nthe access network information as described in subclause\u00a04.2.2, 4.2.3 or\n4.2.4 of 3GPP\u00a0TS\u00a029.514\u00a0[17] or in subclause\u00a04.1 and 4.2 of\n3GPP\u00a0TS\u00a029.214\u00a0[17], the PCF shall perform the PCC rule provisioning\nprocedure as defined in subclause 4.2.6.2.1 and additionally provide the\nrequested access network information indication (e.g. user location and/or\nuser timezone information) to the SMF as follows:\n\n  -  it shall include the \"lastReqRuleData\" attribute to contain the\n    \"reqData\" attribute with the value(s) MS_TIME_ZONE and/or USER_LOC_INFO\n    and the \"refPccRuleIds\" attribute to contain the related\n    installed/modified/removed PCC rule identifier(s).\n\n  -  it shall provide the AN_INFO policy control request rigger within the\n    \"policyCtrlReqTriggers\" attribute (if not yet set).\n\nFor those PCC Rule(s) based on preliminary service information as described\nin 3GPP\u00a0TS\u00a029.514\u00a0[17] or in 3GPP\u00a0TS\u00a029.514\u00a0[17], the PCF may assign the\n5QI and ARP of the default QoS flow to avoid signalling to the UE. These\nPCC Rules shall not include the \"packetFilterUsage\" attribute set to true\nwithin the \"flowInfos\" attribute.\n\n\n", "Keywords": ""}, {"key": "Request Usage Monitoring Control", "numbering": "4.2.3.11", "title_level": 3, "desc": "4.2.3.11 Request Usage Monitoring Control\n\nIf the UMC as defined in subclause\u00a05.8 is support, the PCF may provision\nthe usage monitoring control policy to the SMF as defined in\nsubclause\u00a04.2.6.4.3 to reques the usage monitoring control.\n\n\n", "Keywords": ""}, {"key": "Ipv6 Multi-homing support", "numbering": "4.2.3.12", "title_level": 3, "desc": "4.2.3.12 Ipv6 Multi-homing support\n\nDuring the lifetime of the Multi-homing PDU session, the PCF shall\nprovision the PCC rules and session rules to SMF. The SMF shall derive the\nappropriate policies based on the policies provisioned by the PCF and\nprovision them to the appropriate UPF if applicable, access network, if\napplicable, and UE if applicable.\n\n  Editor's note:  It is FFS how the PCF indicates which rules are\n         applicable to a specific Ipv6 prefix and how the SMF derives the\n         policies and provisions them to the corresponding PDU session\n         Anchor. It is FFS how the usage monitoring is performed in this\n         case.\n\n\n", "Keywords": ""}, {"key": "Npcf_SMPolicyControl_Update Service Operation", "numbering": "4.2.4", "title_level": 2, "desc": "4.2.4  Npcf_SMPolicyControl_Update Service Operation\n\nThe Npcf_SMPolicyControl_Update service operation provides means for the NF\nservice consumer to inform the PCF that a policy control request trigger\ncondition has been met and for the PCF to inform the NF service consumer of\nany resulting update of the Session Management related policies.\n\nFigure\u00a04.2.4-1 illustrates a requesting the update of the Session\nManagement related policies.\n\n                                    [pic]\n\n   Figure 4.2.4-1: Requesting the update of the Session Management related\n                                  policies\n\n  1. The NF Service Consumer shall send a POST request to the PCF to update\n    an Individual SM Policy resource. The {smPolicyId} in the URI\n    identifies the Individual SM Policy resource to be updated.\n\n  2. In case of a successful update, \"200 OK\" response shall be returned.\n    The PCF shall include in the \"200 OK\" response the representation of\n    the updated policies within the SmPolicyDecision data structure.\n    Detailed procedures related to the provisioning and enforcement of the\n    policy decisions within the SmPolicyDecision data structure are\n    contained in subclause\u00a04.2.6.\n\n  Editor's note:  This text needs to be enhanced with encoding details such\n         as attribute names once they are defined.\n\n\n", "Keywords": ""}, {"key": "Request the policy based on revalidation time", "numbering": "4.2.4.1", "title_level": 3, "desc": "", "Keywords": ""}, {"key": "Policy provisioning and enforcement of authorized AMBR per", "numbering": "4.2.4.2", "title_level": 3, "desc": "4.2.4.1  Request the policy based on revalidation time\n\nIf the timer for the policy revalidation is started, the SMF shall send the\nPCC rule request before the indicated revalidation time. The SMF shall\nwithin the SmPolicyContextData data structure include RE_TIMEOUT within the\n\"repPolicyCtrlReqTriggers\" attribute. The SMF shall stop the timer once the\nSMF sends the request.\n\n  NOTE\u00a01:  The PCF is expected to be prepared to provide a new policy, as\n         desired for the revalidation time, during a preconfigured period\n         before the revalidation time. The preconfigured periods in the SMF\n         and PCF need to be aligned.\n\nThe PCF may provide a new value of revalidation time by including\n\"revalidationTime\" attribute within the SmPolicyDecision in the response.\nThe PCF may disable the revalidation function by removing the RE_TIMEOUT\npolicy control request trigger in the response.\n\nWhen the SMF receives the response message, the SMF shall start the timer\nfor revalidation based on the new value or existing value of revalidation\ntime if the revalidation function is not disabled; otherwise, the SMF shall\nnot start the timer for revalidation.\n\n  NOTE\u00a02:  By removing the RE_TIMEOUT the revalidation time value\n         previously provided to the SMF is not applicable anymore.\n\n\n4.2.4.2  Policy provisioning and enforcement of authorized AMBR per PDU\n           session\n\nWhen the SMF detects that the subscribed session AMBR change, the SMF shall\nnotify of the PCF by invoking the procedure as defined in\nsubclause\u00a04.2.4.2, include the new subscribed session AMBR within the\n\"subsSessAmbr\" attribute and the SE_AMBR_CH policy control request trigger\nwithin the \"repPolicyCtrlReqTriggers\". Upon receiving the change of session\nAMBR, the PCF shall provision the new authorized session AMBR to the SMF in\nthe response as defined in subclause\u00a04.2.6.2.1 and 4.2.6.2.2.\n\nUpon receiving the authorized session AMBR, the SMF shall apply the\ncorresponding procedures towards the access network, the UE and the UPF for\nthe enforcement of the AMBR per PDU session.\n\n\n", "Keywords": ""}, {"key": "Policy provisioning and enforcement of authorized default QoS", "numbering": "4.2.4.3", "title_level": 3, "desc": "4.2.4.3  Policy provisioning and enforcement of authorized default QoS\n\nWhen the SMF detects that the subscribed default QoS change, the SMF shall\nnotify of the PCF by invoking the procedure as defined in\nsubclause\u00a04.2.4.2, include the new subscribed default QoS within the\n\"subsDefQos\" attribute and \"repPolicyCtrlReqTriggers\" set to DEF_QOS_CH.\nUpon receiving the change of default QoS, the PCF shall provision the\nauthorized default QoS to the SMF in the response of the message The PCF\nshall provision the authorized default QoS to the SMF in the response of\nthe message as defined in subclause\u00a04.2.6.2.1 and 4.2.6.2.2.\n\nUpon receiving the authorized default QoS, the SMF enforces it which may\nlead to the change of the subscribed default QoS. The SMF shall apply the\ncorresponding procedures towards the access network, the UE and the UPF for\nthe enforcement of the authorized default QoS.\n\n\n", "Keywords": ""}, {"key": "Application detection information reporting", "numbering": "4.2.4.4", "title_level": 3, "desc": "4.2.4.4  Application detection information reporting\n\nIf the ADC feature is supported and if the SMF receives the PCC rule for\napplication detection and control, the SMF shall instruct the UPF as\ndefined in 3GPP\u00a0TS\u00a029.244\u00a0[13] to detect the application traffic. When the\nstart of the application`s traffic, identified by an application\nidentifier, is received from the UPF, if PCF has previously provisioned the\nAPP_STA/APP_STO policy control request trigger, unless a request to mute\nsuch a notification (i.e. the \"muteNotif\" attribute set to true within the\nTraffic Control Data decision which the PCC rule refers to), the SMF shall\nreport the start of the application to the PCF. In order to do so, the SMF\nshall perform the procedure as defined in subclause\u00a04.2.4.1 by including\nthe information regarding the detected application`s traffic within the\n\"appDetectionInfo\" attribute and the \"APP_STA\" within the\n\"repPolicyCtrlReqTriggers\" attribute even if the application traffic is\ndiscarded due to enforcement actions of the PCC rule. In this case, within\nthe \"appDetectionInfo\" attribute, the SMF shall include the corresponding\napplication identifier within the \"appId\" attribute, may include the\ndetected service data flow description within the \"sdfDescriptions\"\nattribute and application instance identifier within the \"instanceId\" if\ndeducible. The \"sdfDescriptions\" attribute, if present, shall contain the\n\"flowDescription\" attribute and \"flowDirection\" attribute. The application\ninstance identifier, which is dynamically assigned by the SMF in order to\nallow correlation of APP_STA and APP_STO policy control request trigger to\nthe specific service data flow descriptions.\n\nWhen the stop of the application's traffic, identified by an application\nidentifier is received from the UPF and the SMF has reported the start of\nthe application to the PCF, the SMF shall report the stop of the\napplication to the PCF. In order to do so, the SMF shall perform the\nprocedure as defined in subclause\u00a04.2.4.1 by including the including the\ninformation regarding the detected application`s traffic within the\n\"appDetectionInfo\" attribute and the \"APP_STO\" within the\n\"repPolicyConReqTriggers\" attribute. For \"appDetectionInfo\" attribute, the\nPCF shall include the corresponding application identifier within the\n\"appId\" attribute and application instance identifier within the\n\"instanceId\" if it is provided along with the APP_STA.\n\nThe PCF then may make policy decisions based on the information received\nand send the corresponding updated PCC rules to the SMF.\n\n\n", "Keywords": ""}, {"key": "Indication of QoS Flow Termination Implications", "numbering": "4.2.4.5", "title_level": 3, "desc": "4.2.4.5  Indication of QoS Flow Termination Implications\n\nWhen the SMF detects that a dedicated QoS flow could not be activated or\nhas been terminated it shall remove the affected PCC rules and send an HTTP\nPOST request to the PCF with an SmPolicyUpdateContextData data structure,\nincluding the \"ruleReports\" attribute containing the RuleReport data\ninstance which specifies the affected PCC rules within the \"pccRuleIds\"\nattribute(s), \"INACTIVE\" as the value within the \"ruleStatus\" attribute and\nthe \"RES_ALLO_FAIL\" as the value of the \"failureCode\" attribute.\n\nIf the RAN-NAS-Cause feature is supported, the SMF shall provide the\navailable access network information within the \"userLocationInformation\"\nattribute (if available), \"userLocationInfoTime\" attribute (if available)\nand \"ueTimezone\" attribute (if available). Additionally, if the SMF\nreceives from the access network the RAN cause and/or the NAS cause due to\nQoS flow termination the SMF shall provide the received cause(s) in the\n\"ranNasRelCause\" attribute included in RuleReport data instance.\n\nThis shall be done whenever one of these conditions applies:\n\n  -  The SMF is requested by the RAN to initiate the deactivation of a QoS\n    flow,\n\n  -  PCC rule(s) are removed/deactivated by the SMF without PCF request\n    (e.g. due to unsuccessful reservation of resources to satisfy the QoS\n    flow binding).\n\n  NOTE:  The SMF will not initiate the deactivation of the QoS flow upon\n         reception of the UE-initiated resource modification procedure\n         indicating packet filter deletion. If all the PCC rules associated\n         to a QoS flow have been deleted as a consequence of the PCF\n         interaction, the SMF will initiate the QoS flow termination\n         procedure towards the RAN.\n\nSignalling flows for the QoS flow termination and details of the binding\nmechanism are presented in 3GPP\u00a0TS\u00a029.513\u00a0[7].\n\n\n", "Keywords": ""}, {"key": "3GPP PS Data Off Support", "numbering": "4.2.4.6", "title_level": 3, "desc": "4.2.4.6  3GPP PS Data Off Support\n\nIf the SMF is informed that the 3GPP PS Data Off status of the UE changes,\nthe SMF shall provide the PS_DA_OFF value within the\n\"repPolicyCtrlReqTriggers\" attribute and the \"3gppPsDataOffStatus\"\nattribute set to the value indicated by the UE within\n\"SmPolicyUpdateContextData\" and send the HTTP POST message as defined in\nsubclause\u00a04.2.4.2 to the PCF.\n\nUpon receipt of an HTTP POST message with the \"repPolicyCtrlReqTriggers\"\nattribute with the value PS_DA_OFF or the AC_TY_CH the PCF shall determine\nwhether the 3GPP PS Data Off handling functionality (as described below)\nbecomes active or inactive. The 3GPP PS Data Off handling functionality is\nactive if, and only if,\n\n  -  the latest received \"3gppPsDataOffStatus\" attribute is set to true,\n    and\n\n  NOTE\u00a01:  If the 3GPP_PS_DATA_OFF_CH policy control request trigger is\n         received, the latest received value is the one received in the HTTP\n         POST message. Otherwise, it corresponds to the stored value.\n\n  -  the UE uses an access with \"accessType set to \"3GPP_ACCESS \".\n\nIf the PCF determines that the 3GPP PS Data Off handling functionality\nbecomes active, the PCRF shall configure the SMF in such a way that:\n\n  -  only packets for services belonging to the list of 3GPP PS Data Off\n    Exempt Services are forwarded; and\n\n  -  all other downlink packets and optionally uplink packets are discarded\n    by modifying or removing any related dynamic PCC rule(s) or by\n    deactivating any related predefined PCC rule(s).\n\n  NOTE\u00a02:  In order for the UPF to prevent the services that do not belong\n         to the list of 3GPP PS Data Off Exempted Services, if such services\n         are controlled by dynamic PCC rules, PCF can either close gates for\n         the downlink and optionally the uplink direction via the\n         \"flowStatus\" attribute in related dynamic PCC rules or remove those\n         dynamic PCC rules. If the services are controlled by predefined PCC\n         rules, PCF needs to deactivate those PCC rules. PCC rule(s) with\n         wild-carded service data flow filters can be among the PCC rules\n         that are modified, Removed or disabled in that manner. It can then\n         be necessary that the PCF at the same time installs or activates\n         PCC rules for data-off exempt services. The network configuration\n         can ensure that at least one PCC Rule is bound to the default QoS\n         flow when Data Off is activated in order to avoid a deletion of an\n         existing PDU session or in order to not fail a PDU session\n         establishment.\n\n\n", "Keywords": ""}, {"key": "Report of Access Network Information", "numbering": "4.2.4.7", "title_level": 3, "desc": "4.2.4.7  Report of Access Network Information\n\nIf the AN_INFO policy control request rigger is set, upon receiving the\n\"lastReqRuleData\" attribute with the \"reqData\" attribute with the value(s)\nMS_TIME_ZONE and/or USER_LOC_INFO together with installation, modification\nand removal of any PCC rule(s), the SMF shall apply appropriate procedures\nto obtain this information. When the SMF then receives access network\ninformation through those procedures, the SMF shall provide the required\naccess network information to the PCF by as defined in subclause\u00a04.2.4.1\nand set the corresponding attributes as follows:\n\n  -  If the user location information was requested by the PCF and was\n    provided to the SMF, the SMF shall provide the user location\n    information within the \"userLocationInfo\" attribute and the time when\n    it was last known within \"userLocationInfoTime\" attribute (if\n    available).\n\n  -  If the user location information was requested by the PCF and was not\n    provided to the SMF, the SMF shall provide the serving PLMN identifier\n    within the \"servingNetwork\" attribute.\n\n  -  If the time zone was requested by the PCF, the SMF shall provide it\n    within the \"ueTimeZone\" attribute.\n\nIn addition, the SMF shall provide the AN_INFO policy control request\ntrigger within the \"repPolicyCtrlReqTriggers\" attribute.\n\nDuring QoS flow deactivation, when the NetLoc feature is supported, the SMF\nshall provide the access network information to the PCF by including the\nuser location information within the \"userLocationInfo\" attribute (if\nrequested by the PCF and if provided to the SMF), the information on when\nthe UE was last known to be in that location within \"userLocationInfoTime\"\nattribute (if user location information was requested by the PCF and if the\ncorresponding information was provided to the SMF), the PLMN identifier\nwithin the \"servingNetwork\" attribute (if the user location information was\nrequested by the PCF but it is not provided to the SMF) and the timezone\ninformation within the \"ueTimeZone\" attribute (if requested by the PCF and\navailable).\n\nDuring PDU session termination procedure, the SMF shall, if AC_INFO policy\ncontrol request trigger is set, provide the access network information to\nthe PCF by including the user location information within the\n\"userLocationInfo\" attribute (if it was provided to the SMF), the\ninformation on when the UE was last known to be in that location within\n\"userLocationInfoTime\" attribute (if it was provided to the SMF), the PLMN\nidentifier within the \"servingNetwork\" attribute (if the user location\ninformation was not provided to the SMF) and the timezone information\nwithin the \"ueTimeZone\" attribute (if available).\n\nThe SMF shall not report any subsequent access network information updates\nreceived from the RAN without any further provisioning or removal of\nrelated PCC rules unless the associated QoS flow bearer or PDU session has\nbeen released.\n\n\n", "Keywords": ""}, {"key": "Reporting Accumulated Usage", "numbering": "4.2.4.8", "title_level": 3, "desc": "4.2.4.8  Reporting Accumulated Usage\n\nWhen the SMF receives the accumulated usage report from the UPF as defined\nin subclause\u00a07.5.5.2, 7.5.7.2 or 7.5.8.3 of 3GPP\u00a0TS\u00a029.244\u00a0[13], the SMF\nshall send an HTTP POST message as defined in subclause\u00a04.2.4.2 by\nincluding one or more accumulate usage reports within the\n\"accuUsageReports\" attribute(s).\n\nWhen the PCF receives the accumulated usage in the HTTP POST message, the\nPCF shall indicate to the SMF if usage monitoring shall continue for usage\nmonitoring control instance as follows:\n\n  -  If monitoring shall continue for specific level(s), the PCF shall\n    provide the new thresholds for the level(s) in the response of HTTP\n    POST message using the same attribute as before (i.e. \"volumeThreshold\n    attribute\", \"volumeThresholdUplink\" attribute or\n    \"volumeThresholdDownlink\" attribute;  \"nextVolThreshold attribute\",\n    \"nextVolThresholdUplink\", \"nextVolThresholdDownlink\", or\n    \"nextTimeThreshold\" if monitoring time is provided within an entry of\n    the \"umDecs\" attribute);\n\n  -  otherwise, if the PCF wishes to stop monitoring for specific level(s)\n    the PCF shall not include an updated threshold in the response of HTTP\n    POST message for the stopped level(s) i.e. the corresponding\n    \"volumeThreshold\" attribute, \"volumeThresholdUplink\" attribute or\n    \"volumeThresholdDownlink\" attribute shall not be included within an\n    entry of the \"umDecs\" attribute.\n\nIf both volume and time thresholds were provided and the threshold for one\nof the measurements is reached, the SMF shall report this event to the PCF\nand the accumulated usage since last report shall be reported for both\nmeasurements.\n\nThe PCF shall process the usage reports and shall perform the actions as\nappropriate for each report.\n\n\n", "Keywords": ""}, {"key": "Ipv6 Multi-homing support", "numbering": "4.2.4.9", "title_level": 3, "desc": "4.2.4.9  Ipv6 Multi-homing support\n\nThe SMF may insert an additional PDU Session Anchor to an existing PDU\nsession by using Ipv6 multi-homing mechanism. In this case, the SMF shall\ninform the PCF when a new Ipv6 prefix is allocated to the new PDU Session\nAnchor as defined in subclause\u00a04.2.4.2. The SMF shall, within the\nSmPolicyUpdateContextData data structure, include the \"UE_ IP_CH\" within\nthe \"repPolicyCtrlReqTrigger\" attribute and include the new Ipv6 prefix\nwithin the \"ipv6AddressPrefix\" attribute.\n\nWhen the PCF receives the request from the SMF indicating the addition of a\nnew Ipv6 prefix, the PCF shall determine the impacted PCC rules and/or\nsession rules associated with the new Ipv6 prefix and provision them to the\nSMF as defined in subclause 5.6.2.6 and 5.6.2.7. The SMF shall derive the\nappropriate policies based on the policies provisioned by the PCF and\nprovision them to the appropriate UPF, if applicable, access network, if\napplicable, and UE, if applicable.\n\nWhen the SMF removes a PDU Session anchor from the Multi-homing PDU\nsession, the SMF shall inform the PCF of the released Ipv6 prefix related\nto the PDU Session anchor as defined in subclause\u00a04.2.5.2. The SMF shall,\nwithin the SmPolicyUpdateContextData data structure, include the \"UE_\nIP_CH\" within the \"repPolicyConReqTrigger\" attribute and include the\nreleased Ipv6 prefix within the \"relIpv6AddressPrefix\" attribute.\n\n  Editor's note:  It is FFS how the PCF indicates which rules are\n         applicable to a specific Ipv6 prefix and how the SMF derives the\n         policies and provisions them to the corresponding PDU session\n         Anchor. It is FFS how the usage monitoring is performed in this\n         case.\n\n\n", "Keywords": ""}, {"key": "Npcf_SMPolicyControl_Delete Service Operation", "numbering": "4.2.5", "title_level": 2, "desc": "4.2.5  Npcf_SMPolicyControl_Delete Service Operation\n\n\n", "Keywords": ""}, {"key": "General", "numbering": "4.2.5.1", "title_level": 3, "desc": "4.2.5.1  General\n\nThe delete service operation provides means for the NF service consumer to\ndelete the context of PDU Session related information.\n\nThe following procedures using the Npcf_SMPolicyControl_Delete service\noperation are supported:\n\n  -  Deletion of the policy context associated with a PDU session.\n\n\n", "Keywords": ""}, {"key": "SM_Policy Association Delete", "numbering": "4.2.5.2", "title_level": 3, "desc": "4.2.5.2  SM_Policy Association Delete\n\n                                    [pic]\n\n                  Figure 4.2.5.2-1: SMPolicyControl Delete\n\nWhen an individual resource of the SM Policy Association shall be deleted\nthe SMF shall invoke the Npcf_SMPolicyContext_DELETE service operation to\nthe PCF using an HTTP POST request, as shown in figure\u00a04.2.5.2-1, step\u00a01.\n\nThe SMF shall set the request URI to \"{apiRoot}/npcf-smpolicycontrol/v1/sm-\npolicies/{smPolicyId}/delete\". The {smPolicyId} in the URI identifies the\n\"Individual SM Policy\" to be deleted.\n\nThe SMF delete request shall (if available) contain SM Policy Association\nrelated information in the body:\n\n  -  optional volume usage information \"accuUsageReport\".\n\nWhen the PCF receives the HTTP POST request from the SMF, the PCF shall\nacknowledge the request by sending an HTTP response message with the\ncorresponding status code. The PCF acknowledged the delete request by\nsending a \"204 No Content\" response to the SMF, as shown in figure\u00a04.2.5.2-\n1, step\u00a02. Further, the PCF shall remove the individual resources linked to\nthe delete request.\n\nIf the HTTP POST request from the SMF is rejected by the PCF, the PCF shall\nindicate the cause for the rejection in the response to the SMF. Further\ndetails of error handling are described in subclause\u00a05.7.\n\n\n", "Keywords": ""}, {"key": "Provisioning and Enforcement of Policy Decisions", "numbering": "4.2.6", "title_level": 2, "desc": "4.2.6  Provisioning and Enforcement of Policy Decisions\n\n\n", "Keywords": ""}, {"key": "General", "numbering": "4.2.6.1", "title_level": 3, "desc": "4.2.6.1  General\n\nPolicy Decisions are provided from the PCF to the NF service consumer (SMF)\nas part of the following service operations:\n\n  -  The Npcf_SMPolicyControl_Create Service Operation described in\n    subclause 4.2.2;\n\n  -  The SM Policy Association Notification request as part of the\n    Npcf_SMPolicyControl_UpdateNotify Service Operation as described in\n    subclause\u00a04.2.3.2; and\n\n  -  the Npcf_SMPolicyControl_Update service operation as described in\n    subclause\u00a04.2.4\n\nPolicy decisions shall be encoded within the SmPolicyDecision data\nstructure defined in subclause\u00a05.6.2.4\n\nPolicy decisions may include:\n\n  -  Session Rules as described in subclause\u00a04.1.4.3 encoded within the\n    \"sessRules\" attribute;\n\n  -  PCC Rules as described in subclause\u00a04.1.4.2 encoded within the\n    \"pccRules\" attribute;\n\n  -  QOS decisions as described in subclause\u00a04.1.4.4.3 that can be\n    referenced from PCC rules and session rules encoded within the\n    \"qosDescs\" attribute\n\n  -  charging decisions as described in subclause\u00a04.1.4.4.4 that can be\n    referenced from PCC rules encoded within the \"ChgDescs\" attribute\n\n  -  Traffic control decisions as described in subclause\u00a04.1.4.4.2 that can\n    be referenced from PCC rules encoded within the \"traffContDescs\"\n    attribute\n\n  -  Usage monitoring control decisions as described in subclause\u00a04.1.4.4.5\n    that can be referenced from PCC rules and session rules encoded within\n    the \"umDescs\" attribute\n\n  -  Conditions that can be referenced from PCC rules and session rules\n    encoded within the \"conds\" attribute\n\n  -  A reflective QoS timer\n\n  -  Policy control request triggers\n\n  -  Last requested rule data\n\n  -  Last requested usage data\n\nFor the Npcf_SMPolicyControl_Create Service Operation, the SmPolicyDecision\ndata structure shall contain a full description of all of policies\ndecisions provided by the PCF for the policy association.\n\nThe SM Policy Association Notification request and for the\nNpcf_SMPolicyControl_Update service operation, the SmPolicyDecision data\nstructure shall contain a description of changes of the policies decisions\nwith respect to the last provided previous policy decision for the\ncorresponding policy association.\n\nIf no other rules are defined for specific data types within the\nSmPolicyDecision data structure, the encoding of changes of the policies\ndecisions in the SmPolicyDecision data structure shall follow the following\nprinciples:\n\n  1) To modify an attribute with a value of type map (e.g. the \"sessRules\"\n    attribute, the \"pccRules\" attribute, the \"qosDescs\" attribute, the\n    \"traffContDescs\" attribute, the \"umDescs\" attribute, and the \"conds\"\n    attribute) the attribute shall be provided with a value containing a\n    map with entries according to the following principles:\n\n    -  A new entry shall be added by supplying a new identifier (e.g. rule\n       / decision identifier) as key and the corresponding structured data\n       type instance (e.g. PCC rule) with complete contents as value as an\n       entry within the map.\n\n    -  An existing entry shall be modified by supplying the existing\n       identifier as key and the corresponding structured data type\n       instance, which shall describe the modifications following bullets 1\n       to 6, as value as an entry within the map.\n\n    -  An existing entry shall be deleted by supplying the existing\n       identifier as key and \"NULL\" as value as an entry within the map.\n\n    -  For an unmodified entry, no entry needs to be provided within the\n       map.\n\n  2) To modify an attribute with a structured data type instance as value,\n    the attribute shall be provided with a value containing a structured\n    data type instance with entries according to bullets 1 to 6.\n\n  3) To modify an attribute with another type than map or structured data\n    type as value, the attribute shall be provided with a complete\n    representation of its value that shall replace the previous value.\n\n  4) To create an attribute of any type, the attribute shall be provided\n    with a complete representation of its value.\n\n  5) To delete an attribute of any type, the attribute shall be provided\n    with NULL as value.\n\n  NOTE 1:  Attributes that are allowed to be deleted need to be marked as\n         \"nullable\" within the OpenAPI file in Annex\u00a0A.\n\n  6) Attributes that are not added, modified, or deleted do not need to be\n    provided.\n\n  NOTE 2:  In related data structures no attribute can be marked as\n         mandatory.\n\n\n", "Keywords": ""}, {"key": "PCC Rules", "numbering": "4.2.6.2", "title_level": 3, "desc": "4.2.6.2  PCC Rules\n\n\n", "Keywords": ""}, {"key": "Overview", "numbering": "4.2.6.2.1", "title_level": 4, "desc": "4.2.6.2.1   Overview\n\nThe PCF may perform an operation on a single PCC rule or a group of PCC\nrules. The impacted rules shall be included in the \"pccRules\" map attribute\nwithin the SMPolicyDecision data structure with the \"pccRuleId\" as a key.\nFor activating, installing or modifying a PCC rule, the corresponding\nPccRule data instance shall be provided as the map entry value. For\ndeactivating or removing a PCC rule, the map entry value shall be set to\nNULL.\n\n  NOTE\u00a01:  When deactivating a predefined PCC rule that is activated in\n         more than one QoS flow, the predefined PCC rule is deactivated\n         simultaneously in all the QoS flow where it was previously\n         activated.\n\nIn order to install a new PCF-provisioned PCC rule, the PCF shall further\nset other attributes within the PccRule data structure as follows:\n\n  -  it shall include the precedence within the \"precedence\" attribute;\n\n  -  it shall include the flow information within the \"flowInfos\"\n    attribute(s) or application identifier within the \"appId\" attribute;\n\n  -  it may include one reference to the QoSData data structure within the\n    \"refQosData\" attribute. In this case, a \"qosDecs\" attributes containing\n    the corresponding QoS data policy decisions shall be included in the\n    SmPolicyDecision data structure if it has been provided;\n\n  -  it may include one reference to the TrafficControlData data structure\n    within the \"refTcData\" attribute. In this case, a \"traffContDecs\"\n    attribute containing the corresponding Traffic Control data policy\n    decision shall be included in the SmPolicyDecision data structure if it\n    has been provided;\n\n  -  it may include one reference to the ChargingData data structure within\n    the \"refChgData\" attribute. In this case, a \"chgDecs\" attribute\n    containing the corresponding Charging Data policy decisions shall be\n    included in SmPoliciesDecision data structure if it has been provided;\n\n  -  it may include one reference to the UsageMonitoringData data boolean\n    within the \"refUmData\" attribute. In this case, a \"umDecs\" attribute\n    containing the corresponding Usage Monitoring data policy decision\n    shall be included in the SmPolicyDecision data structure if it has been\n    provided; and\n\n  -  it may include one reference to the ConditionData data type within the\n    \"refCondData\" attribute. In this case, a \"conds\" attributes containing\n    the corresponding Condition Data shall be included in the\n    SmPolicyDecision data structure if it has been provided;\n\nIn order to modify an existing PCF-provisioned PCC rule, the PCF shall\nfurther set other attributes within the PccRule data structure as follows:\n\n  -  If the PCF needs to modify the attribute(s) within a PCC rule, the PCF\n    shall include the modified attributes(s) with the new value(s) within\n    the PccRule data instance. Previously supplied attributes not supplied\n    in the modified PCC rule instance shall remain valid.\n\n  -  If the PCF only needs to modify the content of referenced policy\n    decision data (e.g. QoSData, ChargingData, etc.) and/or condition data\n    for one or more PCC rules,  the PCF shall, within the SmPolicyDecision\n    data structure, include the corresponding policy decision data and/or\n    condition data within the corresponding map attributes (e.g. include\n    the QoS data decision within the\"qosDecs\" attribute).\n\nThe PCF may combine multiple of the above PCC rule operations in a single\nmessage.\n\n\n", "Keywords": ""}, {"key": "Gate function", "numbering": "4.2.6.2.2", "title_level": 4, "desc": "4.2.6.2.2   Gate function\n\nThe Gate Function represents a user plane function enabling or disabling\nthe forwarding of data packets belonging to a service data flow. A gate is\ndescribed within a PCC rule. If the PCC rule contains the \"flowInfos\"\nattribute(s) applicable for uplink service data flows, it shall describe a\ngate for the corresponding uplink service data flows. If the PCC rule\ncontains the \"flowInfos\" attribute(s) applicable for downlink service data\nflows, it shall describe a gate for the corresponding downlink service data\nflows. If the PCC rule contains the \"appId\" attribute, it shall describe a\ngate for the corresponding detected application traffic. The \"flowAction\"\nattribute within a TrafficControlData data structure which the PCC rule\nrefers to shall describe if the possible uplink and possible downlink gate\nis opened or closed.\n\nThe commands to open or close the gate shall lead to the enabling or\ndisabling of the passage for corresponding data packets. If the gate is\nclosed all packets of the related service data flows shall be dropped. If\nthe gate is opened the packets of the related service data flows are\nallowed to be forwarded.\n\n\n", "Keywords": ""}, {"key": "Policy enforcement for authorized QoS per PCC Rule", "numbering": "4.2.6.2.3", "title_level": 4, "desc": "4.2.6.2.3   Policy enforcement for authorized QoS per PCC Rule\n\nThe PCF can provide the authorized QoS for a PCC rule to the SMF. The\nProvisioning of authorized QoS per PCC Rule shall be performed using the\nPCC rule provisioning procedure as defined in subclause\u00a04.2.6.2.1. For a\nPCF-provided PCC rule, the authorized QoS shall be encoded using a QosData\ndata structure. The PCF shall include the reference to the QosData data\nstructure within the \"refQosData\" attribute of the PCC rule and a \"qosDecs\"\nattribute containing this QoS data decision within the SmPolicyDecision\ndata structure.\n\nIf the authorized QoS is provided for a PCC rule, the SMF shall derive the\nQoS profile towards the access network if applicable, the QoS rule towards\nthe UE if applicable, and the QoS information with the PDR(s) towards the\nUPF.\n\n\n", "Keywords": ""}, {"key": "Redirect function", "numbering": "4.2.6.2.4", "title_level": 4, "desc": "4.2.6.2.4   Redirect function\n\nThe PCF may provide the redirect instruction for a dynamic PCC rule to the\nSMF. The Provisioning shall be performed using the PCC rule provisioning\nprocedure as defined in subclause\u00a04.2.6.2.1. The redirect instruction shall\nbe encoded using a \"redirectInfo\" attribute within the TrafficControlData\ndata structure which the dynamic PCC rule refers to.\n\nFor a dynamic PCC rule, the redirect address may be provided as part of the\ndynamic PCC rule or may be preconfigured in the SMF/UPF. A redirect\ndestination provided within the \"redirectServerAddress\" attribute for a\ndynamic PCC Rule shall override the redirect destination preconfigured in\nthe SMF/UPF for this PCC rule.\n\n  NOTE:  The SMF/UPF uses the preconfigured redirection address only if it\n         can be applied to the application traffic being detected, e.g. the\n         redirection destination address could be preconfigured on a per\n         application identifier basis.\n\nIf \"redirectInfo\" attribute is provided for a dynamic PCC rule, the SMF\nshall instruct the UPF to perform the redirection as defined in\n3GPP\u00a0TS\u00a029.244\u00a0[13].\n\nTo disable the redirect function for one or more already installed PCC\nRule, the PCF shall:\n\n  -  update the PCC rule to remove the reference to the Traffic Control\n    Data decision if this is no valid attribute within the Traffic Control\n    Data decision;\n\n  -  update the PCC rule to modify the reference to a new Traffic Control\n    Data decision which does not have the \"redirectInfo\";\n\n  -  update the Traffic Control Data decision which the PCC rule refers to\n    with the \"redirectSupport\" attribute set to false if no other PCC rule\n    refers to this Traffic Control Data decision and there are still valid\n    attributes within the Traffic Control Data decision; or\n\nremove the Traffic Control Data decision which the PCC rule refers to if no\nother PCC rule refers to this Traffic Control Data decision and there are\nno valid attributes within the Traffic Control Data decision.\n\n\n", "Keywords": ""}, {"key": "Usage Monitoring Control", "numbering": "4.2.6.2.5", "title_level": 4, "desc": "4.2.6.2.5   Usage Monitoring Control\n\nUsage monitoring may be performed for service data flows associated with\none or more PCC rules.\n\nThe provisioning of usage monitoring control per PCC rule shall be\nperformed using the PCC rule provisioning procedure as defined in\nsubclause\u00a04.2.6.2.1. The reference to the UsageMonitoringData data\nstructure of the usage monitoring control instance, which is related with\nthe PCC rule, shall be included within the \"refUmData\" attribute of the\nPccRule data structure of the PCC rule(s). Usage monitoring shall be\nactivated for both service data flows associated with predefined PCC rules\nand dynamic PCC rules, including rules with deferred activation and/or\ndeactivation times while those rules are active.\n\n\n", "Keywords": ""}, {"key": "Traffic Steering Control support", "numbering": "4.2.6.2.6", "title_level": 4, "desc": "4.2.6.2.6   Traffic Steering Control support\n\nIf the TSC feature is supported, the PCF may instruct the SMF to apply a\ntraffic steering control for the purpose of steering the subscriber's\ntraffic to appropriate operator or 3rd party service functions (e.g. NAT,\nantimalware, parental control, DdoS protection) in the N6-LAN or enabling\nthe routing of the user traffic to a local Data Network identified by the\nDNAI per AF request.\n\n\n", "Keywords": ""}, {"key": "Steering the traffic in the N6-LAN", "numbering": "4.2.6.2.6.1", "title_level": 5, "desc": "4.2.6.2.6.1 Steering the traffic in the N6-LAN\n\nFor the purpose of steering the subscriber's traffic to appropriate\noperator or 3rd party service functions in the N6-LAN, the PCF shall\ninclude the reference to a Traffic Control Data decision within the PccRule\ndata instance and set other attribute as follows:\n\n  -  either include the application to be detected is identified by the\n    \"appId\" attribute or  the service data flow to be detected is\n    identified by the \"flowInfos\" attribute(s) within the PccRule data\n    structure, and\n\n  -  include a \"traffContDecs\" contain the corresponding Traffic Control\n    Data decision within the SmPolicyDecssion if it has not been provided\n    yet. In this case, the PCF shall include the traffic steering policy\n    identifier(s) for downlink and/or uplink identified by the\n    \"trafficSteeringPolIdDl\"  attribute and/or \"trafficSteeringPolIdUl\"\n    attribute within the Traffic Control Data data decision.\n\nThe PCF may also provision the traffic steering control information by\nactivating the pre-defined PCC rule(s) in the SMF.\n\n\n", "Keywords": ""}, {"key": "Steering the traffic to a local access of the data network", "numbering": "4.2.6.2.6.2", "title_level": 5, "desc": "4.2.6.2.6.2 Steering the traffic to a local access of the data network\n\nThe PCF shall determine if the ongoing PDU Session is impacted by the\nrouting of traffic to a local access to a data network as follows.\n\n  -  If the AF request includes individual IP address/ prefix allocated or\n    user identifier to an UE, the PCF shall store the received traffic\n    routing information and shall perform the session binding as defined in\n    subclause 6.2 of 3GPP\u00a0TS\u00a029.513\u00a0[7] to determine the impacted PDU\n    session;\n\n  -  Otherwise, the PCF fetches the traffic routing data information from\n    the UDR as defined in 3GPP\u00a0TS\u00a029.519\u00a0[12] applicable for any UE or\n    Internal Group Id if received in the SMF request.\n\nThen the PCF authorizes the request based on the traffic routing\ninformation, operator's policy, etc. and determines the traffic steering\npolicy. The traffic steering policy indicates the list of suitable traffic\nsteering policy IDs configured in SMF and if the N6 routing information\nassociated to the application is explicitly provided by the AF, the N6\nrouting information. The traffic steering policy IDs are related to the\nmechanism enabling traffic steering to the DN.\n\nFor impacted PDU Session that corresponds to the AF request, the PCF shall\nprovide the SMF with PCC rules that are generated based on the AF request.\nIn order to do so, the PCF shall within the PccRule data instance(s)\ninclude the information to identify the traffic within the \"flowInfos\"\nattribute or \"appId\" attribute, and/or within the Traffic Control Data data\ndecision which the PCC rule refers to include the DNAI change report\ninformation within the \"dnaiReport\" attribute, and/or the information about\nthe DNAI(s) towards which the traffic routing should apply within the\n\"dnais\" attribute, and/or a list of traffic steering policy IDs within the\n\"trafficSteeringPolIdDl\"  attribute and/or \"trafficSteeringPolIdUl\"\nattribute.  Within the \"dnaiReport\" attribute, the PCF shall include the\n\"earlyNotification\" attribute set to true or \"lateNotification\" attribute\nset to true to indicate the notification on AF subscription (type of\nnotifications) and the notification address within the \"notificationUri\"\nattribute. The PCF may provide the PCC rule as defined in\nsubclause\u00a04.2.6.2.1.\n\n  Editor's note:  It is FFS whether or how indication of application\n         relocation possibility is supported.\n\n  Editor's note:  It is FFS how the SMF notify the DNAI change.\n\nIf the temporal validity condition is received, the PCF shall evaluates the\ntemporal validity condition of the AF request and informs the SMF to\ninstall or remove the corresponding PCC rules according to the evaluation\nresult. When policies specific to the PDU Session and policies general to\nmultiple PDU Sessions exist, the PCF gives precedence to the PDU Session\nspecific policies over the general policies.\n\nIf the spatial validity condition is received, the PCF considers the latest\nknown UE location to determine the PCC rules provided to the SMF. In order\nto do that, the PCF shall request the SMF to report the notifications about\nchange of UE location in an area of interest (i.e. Presence Reporting\nArea). The subscribed area of interest may be the same as spatial validity\ncondition, or may be a subset of the spatial validity condition (e.g. a\nlist of TAs) based on the latest known UE location. When the SMF detects\nthat UE entered the area of interest subscribed by the PCF, the SMF\nnotifies the PCF and the PCF provides to the SMF the PCC rules described\nabove by triggering a PDU Session Modification. When the SMF becomes aware\nthat the UE left the area subscribed by the PCF, the SMF notifies the PCF\nand the PCF provides updated PCC rules by triggering a PDU Session\nModification. SMF notifications to the PCF about UE location in or out of\nthe subscribed area of interest are triggered by UE location change\nnotifications received from the AMF or by UE location information received\nduring a Service Request or Handover procedure.\n\n  Editor's note:  Above description needs to be reviewed when PRA procedure\n         is defined.\n\nWhen the PCC rules are installed, the SMF may, based on local policies,\ntake the information in the PCC rules into account to:\n\n  -  (re)select UPF(s) for PDU Sessions.\n\n  -  activate mechanisms for traffic multi-homing or enforcement of an UL\n    Classifier (UL CL).\n\nInform the AF of the (re)selection of the UP path (change of DNAI).\n\n\n", "Keywords": ""}, {"key": "Conditioned PCC rule", "numbering": "4.2.6.2.7", "title_level": 4, "desc": "4.2.6.2.7   Conditioned PCC rule\n\nThe PCF may control at what time the status of a PCC rule changes. In order\nto provision a PCC rule with conditional data, the PCF shall provision a\nPCC rule as defined in subclause 4.2.6.2.1and include within its\n\"refCondData\" attribute the corresponding ConditionData's \"condId\"\nattribute value. The PCF shall also ensure that the referenced\nConditionData instance is included in the \"conds\" map within the\nSmPolicyDecision data structure following the procedures defined in\nsubclause 4.2.6.1. Within the ConditionData instance, the PCF shall include\nthe activation time within the \"activationTime\" attribute and/or\ndeactivation time within the \"deactivationTime\" attribute.\n\nWhen the SMF receives the PCC rule, the SMF shall act as follows:\n\n  1) If \"activationTime\" attribute is specified only and the time specified\n    in \"activationTime\" attribute is in the future, then the SMF shall set\n    the PCC rule inactive and make it active at that time. If time\n    specified in the \"activationTime\" attribute is in the past, then the\n    SMF shall immediately set the PCC rule active.\n\n  2) If \"deactivationTime\" attribute is specified only and the time\n    specified in \"activationTime\" attribute is in the future, then the SMF\n    shall set the PCC rule active and make it inactive at that time. If the\n    time specified in the \"deactivationTime\" is in the past, then the SMF\n    shall immediately set the PCC rule inactive.\n\n  3) If both \"activationTime\" attribute and \"deactivationTime\" attribute\n    are specified, and the time specified in the \"activationTime\" occurs\n    before the time specified in the \"deactivationTime\" attribute, and also\n    when the PCC rule is provided before or at the time specified in the\n    \"deactivationTime\", the SMF shall handle the rule as defined in 1) and\n    then as defined in 2).\n\n  4) If both \"activationTime\" attribute and \"deactivationTime\" attribute\n    are specified, and the time specified in the \"deactivationTime\"\n    attribute occurs before the time specified in the \"activationTime\", and\n    also when the PCC rule is provided before or at the time specified in\n    the \"activationTime\" attribute, the SMF shall handle the rule as\n    defined in 2) and then as defined in 1).\n\n  5) If both the \"activationTime\" attribute and the \"deactivationTime\"\n    attribute are specified but time has already occurred for both, and the\n    time specified in the \"activationTime\" occurs before the time specified\n    in the \"deactivationTime\" attribute, then the SMF shall immediately set\n    the PCC rule inactive.\n\n  6) If both the \"activationTime\" attribute and the \"deactivationTime\"\n    attribute are specified but time has passed for both, and the time\n    specified in \"deactivationTime\" attribute occurs before the\n    \"activationTime\" attribute, then the SMF shall immediately set the PCC\n    rule active.\n\n  Editor's note:  It is FFS how to update the conditioned PCC rule.\n\nTo delete a conditioned PCC rule, the PCF shall perform the deletion of PCC\nrule as defined in subclause 4.2.6.2.1.\n\nThe UE timezone information, if available, may be used by the PCF to derive\nthe values of \"activationTime\" attribute and the \"deactivationTime\"\nattribute.\n\nIf the PCC rule(s) including the reference to the Condition Data decision\nwhich includes the \"activationTime\" attribute are bound to a QoS flow that\nwill require traffic mapping information to be sent to the UE, the SMF\nshall report the failure to the PCF by including the \"ruleReports\"\nattribute with the \"failureCode\" attribute set the value\n\"NO_QOS_FLOW_BOUND\" for the affected PCC rule(s).\n\n  NOTE\u00a03:  This limitation prevents dependencies on the signalling of\n         changed traffic mapping information towards the UE.\n\nThe PCC rule(s) including the reference to the Condition Data decision\nwhich includes the \"activationTime\" attribute and the \"deactivationTime\"\nattribute shall not be applied for changes of the QoS or service data flow\nfilter information.\n\n\n", "Keywords": ""}, {"key": "PCC rule for resource sharing", "numbering": "4.2.6.2.8", "title_level": 4, "desc": "4.2.6.2.8   PCC rule for resource sharing\n\nIf the ResShare feature is supported by both the SMF and PCF as described\nin subclause\u00a05.8, the PCF may indicate that the SMF should commonly reserve\nresources for a set of PCC rules. The SMF shall then, for PCC rules bound\nto the same QoS flow and the same sharing key value , use the highest GBR\nvalue among those PCC rules as input for calculating the common GBR value\nwhen reserving QoS flow resources. The GBR value for each direction shall\nbe considered separately, so that the uplink and downlink GBR values may\noriginate from different PCC rules.\n\nThe SMF may based on internal logic use the highest MBR value among the\nprovided PCC rules indicated to share resources, when determining the MBR\nfor the QoS flow. Each individual PCC rule is still subject to data rate\npolicing based on its own MBR values.\n\nThe PCF shall provide the \"sharingKeyDl\" attribute and/or \"sharingKeyUl\"\nattribute within the QosData data structure which the PCC rules refers to\nin order to indicate that the related PCC rule may share resources with\nother PCC rules bound to the same QoS flow.\n\nThe SMF shall apply resource sharing if at least two PCC rules bound to the\nsame bearer share the same value in the \"sharingKeyDl\" attribute and/or\n\"sharingKeyUl\" attribute.\n\nWhen modifying the value of \"sharingKeyDl\" attribute and/or \"sharingKeyUl\"\nattribute of the QosData data structure, which a PCC rule refers to for the\nPCC rule that is subject to resource sharing the SMF may adjust the\nresource sharing of the remaining PCC rules.\n\n  NOTE\u00a01:  A PCC rule that is deleted is also removed from the resource\n         sharing, while the remaining PCC rules continue their sharing\n         relationship.\n\n  NOTE\u00a02:  The state of resource sharing ends when less than two of the PCC\n         rules in the set remains.\n\n\n", "Keywords": ""}, {"key": "Resource reservation for services sharing priority", "numbering": "4.2.6.2.9", "title_level": 4, "desc": "4.2.6.2.9   Resource reservation for services sharing priority\n\nWhen the PCF derives PCC Rules corresponding to a service related to an AF\nthat has indicated that priority sharing is allowed for that service over\nRx interface, it derives the corresponding PCC Rules according to current\nprocedures as described in 3GPP\u00a0TS\u00a029.513\u00a0[7], subclause\u00a07.3. The PCF may\nadditionally take the suggested pre-emption capability and vulnerability\nvalues into account if the AF provided them when the PCF determines the ARP\npre-emption capability and vulnerability. The ARP derived at this point and\nthe priority sharing indicator provided over Rx reference point (see\n3GPP\u00a0TS\u00a029.214\u00a0[17] for further information) related to these derived PCC\nRules are stored for later use.\n\nFor PCC Rules related to the same PDU session with the same assigned 5QI\nand with the priority sharing indicator enabled (see 3GPP\u00a0TS\u00a029.214\u00a0[17],\nsubclause\u00a04.4.8), the PCF shall rederive the ARP into a shared ARP for\nthese PCC Rules as follows:\n\n  -  The Priority Level shall be set to the lowest value (i.e. highest\n    priority) among the Priority Level values derived for the PCC rules\n    that include the priority sharing indicator;\n\n  -  The Pre-emption Capability shall be set to true if any of the original\n    derived PCC Rules have the Pre-emption-Capability value set to true.\n\n  -  The Pre-emption Vulnerability shall be set to true if all the original\n    derived PCC Rules have the Pre-emption Vulnerability value set to true.\n\n  NOTE\u00a01:  Having the same setting for the ARP parameter in the PCC Rules\n         with the priority sharing indicator set enables the usage of the\n         same bearer. Furthermore, a combined modification of the ARP\n         parameter in the PCC rules ensures that a bearer modification is\n         triggered when a media flow with higher service priority starts.\n\nIf the 5QI and/or ARP related to any of the PCC Rules that share priority\nis changed (e.g. based on local policies), the PCF shall rederive the ARP\nfor the impacted PCC Rules following the same procedure as defined in this\nsubclause.\n\nThe PCF shall provision the PCC Rules according to the rederived ARP\ninformation as described in subclause\u00a04.2.6.2.1.\n\nIf the PCF receives a report that a PCC rule provisioning or modification\nfailed due to the resource reservation failure as defined in\nsubclause\u00a04.2.x (PCC Rule Error Handling) and if the PCF supports the MCPTT-\nPreemption feature as defined in subclause\u00a05.4.1 of 3GPP\u00a0TS\u00a029.214\u00a0[17],\nthe PCF shall check if pre-emption control based on the pre-emption control\ninformation provided by the AF as defined in subclause\u00a04.4.1 or 4.4.2 of\n3GPP\u00a0TS\u00a029.214\u00a0[17] applies.\n\n  NOTE\u00a02:  The PCF determines that pre-emption control applies based on the\n         presence of the preEemptionControlInfo attribute received over\n         Rx/N5 reference point as defined in 3GPP\u00a0TS\u00a029.214\u00a0[17] and\n         operator policies.\n\nIf pre-emption control applies, the PCF shall check the corresponding\nderived PCC Rules (before applying priority sharing procedures). If the Pre-\nemption Capability of the derived PCC Rule is disabled the PCF shall notify\nthat resource allocation has failed for this PCC rule to the AF as defined\nin subclause\u00a04.4.1 or 4.4.2 of 3GPP\u00a0TS\u00a029.214\u00a0[17] . Otherwise, if the Pre-\nemption Capability of the derived PCC Rule is enabled, the PCF shall\nperform the pre-emption control as follows:\n\n  -  For all the active PCC rule(s) that applied priority sharing\n    mechanism, the PCF shall identify the PCC Rules that have the Pre-\n    emption Vulnerability enabled. For those selected PCC Rule(s), the PCF\n    shall check the Priority Level value.\n\n  -  If there is only one PCC Rule with the Priority Level value higher\n    (i.e. lower priority) than the derived Priority Level value of new or\n    modified PCC Rule, the PCF shall remove this PCC rule. The PCF shall\n    retry the PCC rule provisioning or modification procedure for the PCC\n    rule that failed.\n\n  -  Otherwise, if there are more than one PCC Rule with the Priority Level\n    value higher (i.e. lower priority) than the derived Priority Level\n    value of new or modified PCC Rule, the PCF shall remove the PCC Rule\n    with the highest Priority Level from the SMF.  The PCF shall retry the\n    PCC rule provisioning or modification procedure for the PCC rule that\n    failed; If more than one PCC Rule have the same highest Priority Level,\n    the PCF shall check the Pre-Emption-Control-Info AVP received over Rx\n    interface as defined in 3GPP\u00a0TS\u00a029.214\u00a0[17] and remove the PCC Rule\n    that matches the condition.\n\n  -  Otherwise, if there is at least one PCC Rule with the same Priority\n    Level value than the derived Priority Level value of new or modified\n    PCC Rule, the PCF shall check the Pre-emption-Control-Info AVP received\n    over Rx interface as defined in 3GPP\u00a0TS\u00a029.214\u00a0[10] for these PCC Rules\n    and remove the PCC Rule that matches the condition.\n\n  -  Otherwise, the PCF shall notify that resource allocation has failed\n    for this PCC rule to the AF as defined in subclause\u00a04.4.1 or 4.4.2 of\n    3GPP\u00a0TS\u00a029.214\u00a0[17].\n\nIf there is no active PCC Rule with the Pre-emption Vulnerability enabled,\nthe PCF shall notify that resource allocation has failed for this PCC rule\nto the AF as defined in subclause\u00a04.4.1 or 4.4.2 of 3GPP\u00a0TS\u00a029.214\u00a0[10].\n\n  NOTE\u00a03:  If the PCF receives a report that a PCC rule provisioning or\n         modification failed due to the resource reservation failure and the\n         PCF does not support the MCPTT-Preemption feature as defined in\n         subclause\u00a05.4.1 of 3GPP\u00a0TS\u00a029.214\u00a0[17], the PCF can apply pre-\n         emption and remove active PCC rules from the SMF and then retry the\n         PCC rule provisioning or modification procedure. Otherwise, the PCF\n         will notify it to the AF as defined in subclause\u00a04.4.1 or 4.4.2 of\n         3GPP\u00a0TS\u00a029.214\u00a0[17]. How the PCF applies the pre-emption depends on\n         the implementation.\n\n\n", "Keywords": ""}, {"key": "PCC rule bound to the default QoS flow", "numbering": "4.2.6.2.10", "title_level": 4, "desc": "4.2.6.2.10  PCC rule bound to the default QoS flow\n\nThe PCF may indicate to the SMF that a PCC rule shall be bound to the\ndefault QoS flow and shall remain on the default QoS flow. The SMF shall\nthen, for the indicated PCC rule bind it to the default QoS flow until the\nPCC rule is removed or until the PCF modifies the PCC rule to set the\n\"defQosFlowIndication\" attribute to false. The SMF this second case shall\nevaluate the full QoS information within the QosData data structure which\nthe PCC rule refers and follow normal policy enforcement procedures for\nauthorized QoS per service data flow as descibed in subclause\u00a04.2.8.2.\n\n  NOTE:  5QI, ARP, QNC (if available), Priority Level (if available),\n         Averaging Window (if available) and Maximum Data Burst Volume (if\n         available) within QoS Data decision referred by the PCC rule are\n         only used by the SMF for QoS flow binding purposes when the\n         \"defQoSFlowIndication\" attribute is not included in \"qoSData\"\n         attribute or it is set to false.\n\nThe PCF shall provide the \"defQoSFlowIndication\" attribute set to true in\norder to indicate that the related PCC rule shall be bound to the default\nQoS flow.\n\nIf the \"defQoSFlowIndication\" attribute set to true within the QosData data\nstructure which the PCC rule refers to is received in the SMF, the SMF\nshall bind the related PCC rule to the default QoS flow. This remains valid\nuntil the PCC rule is removed or if the PCF indicates to the SMF that the\nbinding to the default QoS flow no longer applies.\nThe SMF shall ignore other values including 5QI, ARP, QNC (if available),\nPriority Level (if available), Averaging Window (if available) and Maximum\nData Burst Volume (if available) within the QosData data structure if the\n\"defQoSFlowIndication\" attribute set to true. If the PCF has previously\nindicated to the SMF that a PCC rule shall be bound to the default QoS\nflow, to indicate that the binding to the default QoS flow no longer\napplies the PCF shall update the PCC rule by including the\n\"defQosFlowIndication\" attribute set to false. The SMF in this case shall\nevaluate the full QoS information within the QosData data structure which\nthe PCC rule refers to and follow normal policy enforcement procedures for\nauthorized QoS per service data flow.\n\nIf the PCF has not previously indicated to the SMF that a PCC rule shall be\nbound to the default QoS flow (i.e. it may be bound to another QoS flow) in\norder to indicate that the binding to the default QoS flow applies, the PCF\nshall update the PCC rule by including the \"defQoSFlowIndication\" set to\ntrue. The SMF in this case shall follow the procedures described in this\nsubclause.\n\n\n", "Keywords": ""}, {"key": "PCC rule for Application Detection and Control", "numbering": "4.2.6.2.11", "title_level": 4, "desc": "4.2.6.2.11  PCC rule for Application Detection and Control\n\nIf the ADC feature is supported and the user subscription indicates that\nthe application detection and control is required, the PCF may instruct the\nSMF to detect application (s) by installing or activating a PCC rule.\nWithin the PCC rule, the PCF shall provide an \"appId\" attribute set to the\nvalue of an application identifier. If the PCF requires to be reported\nabout when the application start/stop is detected, it shall also provide\nthe APP_STA and APP_STO policy control request trigger to the SMF as\ndefined in subclause\u00a04.2.6.4. The PCF may also mute such a notification\nabout a specific detected application by including a \"traffContDecs\"\nattribute to contain a Traffic Control Data decision which includes the\n\"muteNotif\" attribute set to true and including a \"refTcData\" attribute\nreferring to the Traffic Control Data decision within the PCC rule.\n\n\n", "Keywords": ""}, {"key": "Provisioning of PCC Rules for Multimedia Priority Services", "numbering": "4.2.6.2.12", "title_level": 4, "desc": "4.2.6.2.12  Provisioning of PCC Rules for Multimedia Priority Services\n\n\n", "Keywords": ""}, {"key": "General", "numbering": "4.2.6.2.12.1", "title_level": 5, "desc": "", "Keywords": ""}, {"key": "Invocation/Revocation of Priority PDU connectivity", "numbering": "4.2.6.2.12.2", "title_level": 5, "desc": "", "Keywords": ""}, {"key": "Invocation/Revocation of IMS Multimedia Priority", "numbering": "4.2.6.2.12.3", "title_level": 5, "desc": "4.2.6.2.12.1  General\n\nThe provision of PCC Rules corresponding to both MPS and non-MPS service\nshall be performed as described in subclause\u00a04.2.6.2.1 \"Provisioning of PCC\nrules\".\n\nWhen the PCF derives PCC Rules corresponding to MPS service, the ARP and\n5QI shall be set as appropriate for the prioritized service, e.g. an IMS\nMultimedia Priority Service.\n\n  Editor's note:  A 5QI can either be a standard 5QI, standard 5QI with 5QI\n           Priority Level, or non-standard 5QI (with flexible QoS\n           characteristics). Therefore, the specific use of 5QI terminology\n           needs to be clarified for each 5QI reference made within this\n           specification and across other specifications.\n\nWhen the PCF derives PCC Rules corresponding to non-MPS service, the PCF\nshall generate the PCC Rules as per normal procedures. At the time the\nPriority PDU connectivity services is invoked (i.e. Indication for support\nof priority PDU connectivity service and MPS Priority Level are set), the\nPCF shall upgrade the ARP and/or change 5QI for the PCC Rules to\nappropriate values as needed for MPS. The PCF shall change the ARP and/or\n5QI modified for the priority PDU connectivity service to an appropriate\nvalue according to PCF decision.\n\nWhen the PCF receives an HTTP POST message as defined in\nsubsclause\u00a04.2.2.1, the PCF shall check whether any of these parameters is\nstored in the UDR: indication for support of priority PDU connectivity\nservice, MPS Priority Level and/or indication of support. The PCF shall\nderive the applicable PCC rules and default QoS flow QoS based on that\ninformation. If the indication of IMS priority service support is set and\nthe \"dnn\" attribute corresponds to a DNN dedicated for IMS, the PCF shall\nassign an ARP corresponding to MPS for the default QoS flow and for the PCC\nRules corresponding to the IMS signalling QoS flow. If the \"dnn\" does not\ncorrespond to a DNN dedicated for IMS, the ARP shall be derived without\nconsidering IMS Signalling Priority.\n\n  NOTE\u00a01:  Subscription data for MPS is provided to PCF through the Nudr\n         service.\n\nOnce the PCF receives a notification of a change in Priority PDU\nconnectivity services support, MPS Priority Level and/or IMS priority\nservice support from the UDR, the PCF shall make the corresponding policy\ndecisions (i.e. ARP and/or 5QI change) and, if applicable, shall initiate\nan HPPT POST message as defined in subcluase\u00a04.2.3.2 to provision the\nmodified data.\n\n  NOTE\u00a02:  The details associated with the UDR service are specified in\n         3GPP\u00a0TS\u00a029.519\u00a0[15].\n\n  NOTE\u00a03:  The MPS Priority Level is one among other input data such as\n         operator policy for the PCF to set the ARP.\n\nWhenever one or more AF sessions of an MPS service are active within the\nsame PDU session, the PCF shall ensure that the ARP priority level of the\ndefault QoS flow is at least as high as the highest ARP priority level used\nby any authorized PCC rules belonging to an MPS service. If the ARP pre-\nemption capability is enabled for any of the authorized PCC rules belonging\nto an MPS service, the PCF shall also enable the ARP pre-emption capability\nfor the default QoS Flow.\n\n  NOTE\u00a04:  This ensures that services using dedicated QoS flows are not\n         terminated because of a default QoS flow with a lower ARP priority\n         level or disabled ARP pre-emption capability being dropped during\n         mobility events.\n\n  NOTE\u00a05:  This PCF capability does not cover interactions with services\n         other than MPS services.\n\n\n4.2.6.2.12.2  Invocation/Revocation of Priority PDU connectivity services\n\nWhen a Priority PDU connectivity services is invoked, the PCF shall\n\n  -  Derive the corresponding PCC Rules with the ARP and 5QI set as\n    appropriate for a prioritized service.\n\n  -  Set the ARP of the default QoS flow as appropriate for a Priority PDU\n    connectivity services under consideration of the requirement described\n    in subclause\u00a04.2.6.2.12.1.\n\n  -  Set the 5QI of the default 5QI as appropriate for the Priority PDU\n    connectivity services.\n\n  -  Set the ARP of PCC Rules installed before the activation of the\n    Priority PDU connectivity services to the ARP as appropriate for the\n    Priority PDU connectivity services under the consideration of the\n    requirements described in subclause\u00a04.2.6.2.12.1.\n\n  -  Set the 5QI of the PCC Rules installed before the activation of the\n    Priority PDU connectivity services to the 5QI as appropriate for the\n    Priority PDU connectivity services if modification of the 5QI of the\n    PCC Rules is required.\n\nWhen a Priority PDU connectivity services is revoked, the PCF shall\n\n  -  Delete the PCC Rules corresponding to the Priority PDU connectivity\n    services if they were previously provided.\n\n  -  Set the ARP of the default QoS flow to the normal ARP under the\n    consideration of the requirements described in subclause\u00a04.2.6.2.12.1.\n\n  -  Set the 5QI of the default QoS flow as appropriate for PCF decision.\n\n  -  Set the ARP of all active PCC Rules as appropriate for the PCF under\n    the consideration of the requirements described in\n    subclause\u00a04.2.6.2.12.1.\n\n  -  Set the 5QI to an appropriate value according to PCF decision if\n    modification of the 5QI of PCC Rules is required.\n\n  NOTE:  Priority PDU connectivity services requires can be explicitly\n         invoked/revoked via UDR MPS user profile (Indication of Priority\n         PDU connectivity services, MPS Priority Level). An AF for MPS\n         Priority Service can also be used to provide Priority PDU\n         connectivity services using network-initiated resource allocation\n         procedures (via interaction with PCC) for originating accesses.\n\nThe PCF shall provision the SMF with the applicable PCC Rules upon Priority\nPDU connectivity services activation and deactivation as described in\nclause\u00a04.2.y. The provision of the QoS information applicable for the PCC\nRules shall be performed as described in clause\u00a04.5.6.2. The provision of\nQoS information for the default QoS flow shall be performed as described in\nclause\u00a04.2.6.5.\n\n\n4.2.6.2.12.3  Invocation/Revocation of IMS Multimedia Priority Services\n\nIf the PCF receives service information including an MPS session indication\nand the service priority level from the P-CSCF or at reception of the\nindication that IMS priority service is active for the PDU session, the PCF\nshall under consideration of the requirements described in\nsubclause\u00a04.2.6.2.12.1:\n\n  -  set the ARP of the default QoS flow as appropriate for the prioritized\n    service;\n\n  -  if required, set the ARP and 5QI of all PCC rules assigned to the IMS\n    signalling Qos flow as appropriate for IMS Multimedia Priority\n    Services;\n\n  -  derive the PCC Rules corresponding to the IMS Multimedia Priority\n    Service and set the ARP of these PCC Rules based on the information\n    received over N7/Rx.\n\nIf the PCF detects that the P-CSCF released all the MPS session and the IMS\npriority service has been deactivated for the PDU session the PCF shall\nunder consideration of the requirements described in clause\u00a04.2.6.2.12.1:\n\n  -  delete the PCC Rules corresponding to the IMS Multimedia Priority\n    Service;\n\n  -  set the ARP of the default QoS flow as appropriate for the IMS\n    Multimedia Priority set to inactive;\n\n-  replace the ARP of all PCC Rules assigned to the IMS signalling QoS flow\nas appropriate when the IMS Multimedia Priority is inactive.\n\n\n", "Keywords": ""}, {"key": "Sponsored Data Connectivity", "numbering": "4.2.6.2.13", "title_level": 4, "desc": "4.2.6.2.13  Sponsored Data Connectivity\n\nSponsored data connectivity may be performed for service data flows\nassociated with one or more PCC rules if the information about the sponsor,\nthe application service provider and optionally the threshold values are\nprovided by the AF and if the AF has not indicated to disable/not enable\nsponsored data connectivity as described in 3GPP\u00a0TS\u00a029.214\u00a0[17]\nsubclauses\u00a04.4.1 and 4.4.2 or 3GPP\u00a0TS\u00a029.514\u00a0[10] subclauses\u00a04.2.2.5 and\n4.2.3.5.\n\nThe provisioning of sponsored data connectivity per PCC rule shall be\nperformed using the PCC rule provisioning procedure as defined in\nsubclause\u00a04.2.6.2.1. The sponsor identity shall be set using the\n\"sponsorId\" attribute within the \"chgDecs\" attribute which the PCC rule\nrefers to. The application service provider identity shall be set using the\n\"appSvcProvId\" attribute within the \"chgDecs\" attribute which the PCC rule\nrefers to. The \"sponsorId\" attribute and \"appSvcProvId\" shall be included\nif the \"reportingLevel\" attribute is set to the value SPON_CON_LEVEL.\n\nWhen receiving the usage thresholds from the AF, the PCF shall use the\nsponsor identity to generate a value of \"umId\" attribute of the\nUsageMonitoringData data structure and request usage monitoring control for\nthe monitoring key by following the procedures specified in\nsubclauses\u00a04.2.6.4.3.\n\nWhen the AF disables sponsoring a service (See 3GPP\u00a0TS\u00a029.514\u00a0[10]\nsubclause\u00a04.2.3.5), the PCF\n\n  -  may modify the PCC rules in order to set the \"reportingLevel\"\n    attribute to SER_ID_LEVEL or RAT_GR_LEVEL within the ChargingData data\n    structure which the PCC rule refers to and not include the \"sponsorId\"\n    attribute and \"appSvcProvId\" attribute if they were included\n    previously.\n\n  -  may modify the PCC rules to update the charging key.\n\n  NOTE:  A specific charging key can be applied to the sponsored data\n         connectivity for online charging.\n\n  -  shall disable the usage monitoring for the sponsored data connectivity\n    according to subclause\u00a04.2.6.4.3 if it was enabled previously. As a\n    result, PCF gets the accumulated usage of the sponsored data\n    connectivity.\n\n\n", "Keywords": ""}, {"key": "Session Rules", "numbering": "4.2.6.3", "title_level": 3, "desc": "4.2.6.3  Session Rules\n\n\n", "Keywords": ""}, {"key": "Overview", "numbering": "4.2.6.3.1", "title_level": 4, "desc": "4.2.6.3.1   Overview\n\nThe PCF may perform operations on session rules.The impacted rules shall be\nincluded in the \"SessRules\" map attribute within the SMPolicyDecision data\nstructure with the \"sessRuleId\" as a key. For installing or modifying a\nsession rule, the corresponding SessionRule data instance shall be provided\nas the map entry value. For removing a session rule, the map entry value\nshall be set to NULL.\n\nIn order to install a new session rule, the PCF shall further set other\nattributes within the SessionRule data structure as follows:\n\n  -  it may include the authorized session AMBR within the \"authSessAmbr\"\n    attribute;\n\n  -  it may include the authorized authorized default QoS within the\n    \"authDefaultQoS\" attribute;;\n\n  -  it may include one reference to the UsageMonitoringData data structure\n    within the \"refUmData\" attribute. In this case, a \"umDecs\" attribute\n    containing the corresponding Usage Monitoring data policy decisions\n    shall be included in SmPolicyDecision data structure if it has been\n    provided; and\n\n  -  it may include one reference to the ConditionData data structure\n    within the \"refCondData\" attribute. In this case, a \"conds\" attribute\n    containing the corresponding Condition Data decision shall be included\n    in SmPolicyDecision data structure if it has been provided;\n\nIn order to modify an existing session rule, the PCF shall further set\nother attributes within the SessionRule data structure as follows:\n\n  -  If the PCF needs to modify the attribute(s) within a session rule, the\n    PCF shall include the modified attributes(s) with the new value(s)\n    within the SessionRule data instance. Previously supplied attributes\n    not supplied in the modified PCC rule instance shall remain valid.\n\n  -  If the PCF only needs to modify the content of referenced policy\n    decision data (e.g. UsageMonitoringData, etc.) and/or condition data\n    for one or more session rules, the PCF shall, within the\n    SmPolicyDecision data structure, include the corresponding policy\n    decision data and/or condition data within the corresponding map\n    attributes (e.g. include the usage monitoring data decision within\n    the\"umDecs\" attribute).\n\nThe PCF may combine multiple of the above session rule operations in a\nsingle message, but the PCF shall make sure that these is only one session\nrule active.\n\n\n", "Keywords": ""}, {"key": "Conditioned Session rule", "numbering": "4.2.6.3.2", "title_level": 4, "desc": "4.2.6.3.2   Conditioned Session rule\n\n\n", "Keywords": ""}, {"key": "General", "numbering": "4.2.6.3.2.1", "title_level": 5, "desc": "4.2.6.3.2.1 General\n\nUp to four conditioned session rules (i.e. authorized session AMBR and/or\nauthorized default QoS) may be provisioned by the PCF. In order to\nprovision a session rule with conditional data, the PCF shall provision a\nsession rule as defined in subclause 4.2.6.3.1 and include within its\n\"refCondData\" attribute the corresponding ConditionData's \"condId\"\nattribute value. The PCF shall also ensure that the referenced\nConditionData instance is included in the \"conds\" map within the\nSmPolicyDecision data structure following the procedures defined in\nsubclause 4.2.6.1. Within the ConditionData instance, the PCF shall include\nthe activation time within the \"activationTime\" attribute.\n\n  NOTE\u00a01:  The same instance of session rule can convey information related\n         to the authorized session-AMBR and authorized default QoS when the\n         same time condition applies to both.\n\n  NOTE\u00a02:  The SMF retains remaining time conditioned authorized QoS that\n         have an execution time in the future.\n\nIf the SMF receives the conditioned session rule, at the time indicated in\nthe \"activationTime\" attribute, the SMF shall perform the requested change\nwithout interaction with the PCF.\n\nIf time conditioned session rule(s) to change the non-conditioned session\nrule are received by the SMF and the earliest Activation Time is in the\npast, then the SMF shall immediately enforce the most recent time\nconditioned instance that is not in the future.\n\n  Editor's note:  It is FFS how to update the conditioned session rule.\n\nTo delete a time conditioned session rule, the PCF shall perform the\ndeletion of session rule as defined in subclause 4.2.6.3.1.\n\n  NOTE\u00a03:  Time conditioned session AMBR and default QoS change helps\n         reducing the signaling load over N7. However, the session AMBR and\n         default QoS change needs to be communicated to the UE. Consequently\n         a simultaneous change of the session AMBR and default QoS for many\n         UE(s) may introduce a signaling storm in the 5GC (e.g. over\n         N1/N2/N4/N11). The PCF can avoid this simultaneous change of the\n         session AMBR and default QoS (e.g. spread the time conditioned\n         change over time for many UEs).\n\n\n", "Keywords": ""}, {"key": "Time conditioned authorized session AMBR", "numbering": "4.2.6.3.2.2", "title_level": 5, "desc": "4.2.6.3.2.2 Time conditioned authorized session AMBR\n\nThe procedures in subclause 4.2.6.2.2.1 apply with clarifications in the\npresent subclause.\n\nEach instance of the session rule shall include authorized session AMBR\nwithin the \"authSessAmbr\" attribute.\n\nThe SMF shall, after applying a time conditioned instruction to change the\nauthorized AMBR, apply the corresponding procedures towards to the access\nnetwork, the UE and the UPF for the enforcement of the AMBR per PDU\nsession.\n\n\n", "Keywords": ""}, {"key": "Time conditioned authorized default QoS", "numbering": "4.2.6.3.2.3", "title_level": 5, "desc": "4.2.6.3.2.3 Time conditioned authorized default QoS\n\nThe procedures in subclause 4.2.6.3.2.1 apply with clarifications in the\npresent subclause.\n\nEach instance of the session rule shall include authorized default QoS\nwithin the \"authDefQos\" attribute.\n\nThe SMF shall, after applying a time conditioned instruction to change the\nauthorized default QoS, apply the corresponding procedures towards to the\naccess network, the UE and the UPF for the enforcement of the authorized\ndefault QoS. All PCC rule(s) with the \"defQosFlowIndication\" attribute set\nto true shall remain bound to the default QoS flow. For any other PCC rule\npreviously bound to the default QoS flow, SMF shall then perform the QoS\nflow binding according to clause\u00a06.4 in 3GPP\u00a0TS\u00a029.513\u00a0[7].\n\n\n", "Keywords": ""}, {"key": "Policy control request triggers", "numbering": "4.2.6.4", "title_level": 3, "desc": "4.2.6.4  Policy control request triggers\n\nThe PCF may provide one or several policy control request trigger(s) to the\nSMF. In order to do so, the PCF shall include one or several policy control\nrequest trigger(s) within the \"policyCtrlReqTriggers\" attribute(s) within\nthe SmPolicyDecision data structure.\n\nDuring the lifetime of the PDU session, the PCF may update or remove the\npolicy control request triggers. In order to update the policy control\nrequest trigger, the PCF shall provide the new complete list of applicable\npolicy control request triggers by including one or several policy control\nrequest trigger(s) within the \"policyCtrlReqTriggers\" attribute within the\nSmPolicyDecision data structure.\n\nThe PCF may remove all previously provided policy control request triggers\nby providing a \"policyCtrlReqTriggers\" attribute set to the value NULL.\nUpon reception of a  policy control request trigger with this value, the\nSMF shall not inform PCF of any trigger except for those triggers that are\nalways reported and do not require provisioning from the PCF.\n\n\n", "Keywords": ""}, {"key": "Request of Access Network Charging Identifier", "numbering": "4.2.6.4.1", "title_level": 4, "desc": "4.2.6.4.1   Request of Access Network Charging Identifier\n\nWhen the Access Network Charging Identifier is unknown for an AF session to\nthe PCF, the PCF may request the SMF to provide the Access Network Charging\nIdentifier associated to the dynamic PCC rules. To do so, the PCF shall\nwithin SmPolicyDecision data structure provide the \"policyCtrlReqTriggers\"\nattribute with the value \"AN_CH_COR\"  if the policy control request trigger\nis not previously set and the \"lastReqRuleData\" attribute. For the\nRequestedRuleData instance, the PCF shall inlcude the CH_ID within the\n\"reqData\" attribute and reference of the PCC rule wthin the \"refPccRuleIds\"\nattribute.\n\nThe PCF shall interpret that the Access Network Charging Identifier is\nknown when the PCF receives an \"accNetChId\" attribute with the\n\"sessionChScope\" attribute included and set to true.\n\n\n", "Keywords": ""}, {"key": "RAN NAS Cause Support", "numbering": "4.2.6.4.2", "title_level": 4, "desc": "4.2.6.4.2   RAN NAS Cause Support\n\nWhen RAN-NAS-Cause feature is supported, the PCF may request the SMF to\ninform it of the result of the PCC rule removal when the PCF removes the\nPCC rule. In order to do so, the PCF shall additionally include the\n\"policyCtrlReqTriggers\" attribute with RES_RELEASE if the policy control\nrequest trigger is not previously set and the \"lastReqRuleData\" attribute.\nFor the RequestedRuleData instance, the PCF shall inlcude the RAN_NAS_REL\nwithin the \"reqData\" attribute and reference of the removed PCC rule wthin\nthe \"refPccRuleIds\" attribute.\n\n  Editor's note:  Definition of RAN_NAS_REL is FFS.\n\n  NOTE:  This is done to allow the PCF to notify the AF when there is an\n         abnormal termination of the QoS flow. The PCF does not have to\n         retry the removal of these PCC Rules.\n\n\n", "Keywords": ""}, {"key": "Provisioning of the Usage Monitoring Control Policy", "numbering": "4.2.6.4.3", "title_level": 4, "desc": "4.2.6.4.3   Provisioning of the Usage Monitoring Control Policy\n\nThe PCF may indicate the need to apply monitoring control for the\naccumulated usage of network resources on an PDU session basis. Usage is\ndefined as volume or time of user plane traffic. Monitoring for traffic\nvolume and traffic time can be performed in parallel. The data collection\nfor usage monitoring control shall be performed per monitoring key, which\nmay apply for a single service data flow, a set of service data flows or\nfor all the traffic in an PDU session. If the usage monitoring of a PDU\nsession level is enabled, the PCF may request the SMF to exclude a single\nservice data flow or a set of service data flows from the usage monitoring\nof PDU session level.\n\nDuring the PUD session establishment, the PCF may receive information about\ntotal allowed usage per DNN and UE from the UDR, i.e. the overall amount of\nallowed traffic volume and/or time of usage that are to be monitored per\nDNN and UE and/or total allowed usage for Monitoring key(s) per DNN and UE.\n\n  NOTE:  It depends on the implementation of UDR to provide the total\n         allowed usage per DNN and UE to different PCFs if the different\n         PCFs are serving the PDU sessions with same value of DNN and UE.\n\nIf the SMF supports the UMC feature, the PCRF may requests usage monitoring\ncontrol for the PDU session. If at this time, the PCF has not provided\n\"US_RE\" policy control request trigger to the SMF, the PCF shall include\nthe \"authPolicyCtrlReqTriggesr\" attribute with the value \"US_RE\" and\nprovide it to the SMF as defined in subclause\u00a04.2.6.4. The PCF shall not\nremove the \"US_RE\" policy control request trigger while usage monitoring is\nstill active in the SMF.\n\nAt PDU session establishment and modification, the PCF may provide the\napplicable thresholds, volume threshold, time threshold or both volume\nthreshold and time threshold, for each usage monitoring control instance to\nthe SMF. To provide the initial threshold for each usage monitoring control\ninstance, the PCF shall include the threshold(s) within the\n\"usageMonitoringData\" attribute within the coppresponding parent attribute.\n\nThreshold levels, monitoring time if applicable and inactive time if\napplication for each usage monitoring control instance may be provisionged\nwithin an entry of the \"umDecs\" attribute as follows:\n\n  -  the total volume threshold within the \"volumeThreshold\" attribute if\n    applicable;\n\n  -  the uplink volume threshold within the \"volumeThresholdUplink\"\n    attribute if applicable;\n\n  -  the downlink volume threshold within the \"volumeThresholdDownlink\"\n    attribute if applicable;\n\n  -  the time threshold whithin the \"timeThreshold\" attribute if\n    applicable;\n\n  .  the total volume threshold after the monitoring time within the\n    \"nextVolThreshold\" attribute if applicable;\n\n  -  the uplink volume threshold after the monitoring time whithin the\n    \"nextVolThresholdUplink\" attribute if applicable;\n\n  -  the downlink volume threshold after the monitoring time whithin the\n    \"nextVolThresholdDownlink\" attribute if applicable;\n\n  -  the time threshold after the monitoring time whithin the\n    \"nextTimeThreshold\" attribute if applicable;\n\n  -  the monitoring time within the \"monitoringTime\" attribute if\n    applicable;\n\n  -  the inactive time within the \"inactiveTime\" attribute if applicable.\n\nIf the usage monitoring control instance applies to the PDU session level,\nthe PCF shall include the reference to the Usage Monitoring Data decision\nwithin the \"refUmData\" attribute of a session rule.\n\nIf the usage monitoring control instance applies to a service data flow or\na group of service data flows, the PCF shall include the reference to the\nUsage Monitoring Data decision within the \"refUmData\" attribute of one or\nmore PCC rule.\n\nThe PCF may provide one usage monitoring control instance applicable at PDU\nsession level and one or more usage monitoring instances applicable at PCC\nRule level.\n\n  Editor's note: It is FFS how to exclude one or several SDF from PDU\n         session level usage monitoring.\n\n  Editor's note: It is FFS how to perform the usage monitoring control in\n         the multi-homing case.\n\nIf the PCF wishes to modify the threshold level for one or more monitoring\nkeys, the PCRF shall provide the thresholds for all the different levels\napplicable to the corresponding usage monitoring control instance.\n\nWhen the SMF receives the usage monitoring control request above from the\nPCF, the SMF shall initiate the PFCP Session Establishment Request as\ndefined in subcluase\u00a07.5.2 or PFCP Session Modification Request as defined\nin subcluase\u00a07.5.4 of 3GPP\u00a0TS\u00a029.244\u00a0[13] to request the UPF to perform the\nusage monitoring control.\n\nWhen usage monitoring is enabled, the PCF may request the SMF to report\naccumulated usage for one or more enabled usage monitoring control instance\nregardless if a usage threshold has been reached.  In order do so, the PCF\nshall include the \"lastReqUsageData\" attribute to contain one more\nreference(s) to usage monitoring data decision(s) within the \"refUmIds\"\nattribute or conatin the \"allUmIds\" set to true.\n\n\n", "Keywords": ""}, {"key": "Authorized QoS", "numbering": "4.2.6.5", "title_level": 3, "desc": "4.2.6.5  Authorized QoS\n\n\n", "Keywords": ""}, {"key": "General", "numbering": "4.2.6.5.1", "title_level": 4, "desc": "", "Keywords": ""}, {"key": "Policy provisioning and enforcement of authorized QoS", "numbering": "4.2.6.5.2", "title_level": 4, "desc": "", "Keywords": ""}, {"key": "Policy provisioning and enforcement of authorized", "numbering": "4.2.6.5.3", "title_level": 4, "desc": "4.2.6.5.1   General\n\n\n\n\n The PCF shall provision the authorized QoS. The authorized QoS may apply\nto a PCC rule or to a PDU session.\n\n  -  When the authorized QoS applies to a PCC rule, it shall be provisioned\n    within the corresponding PCC rule as defined in subclause\u00a04.2.6.5.2.\n\n  -  When the authorized QoS for a PCC rule with a GBR QCI is candidate for\n    resource sharing an instruction on the allowed sharing may be\n    provisioned as defined in subclause\u00a04.2.6.2.8.\n\n  -  When the authorized QoS applies to a PDU session, it shall be\n    provisioned as defined in subclause\u00a04.2.6.3.1.\n\n  -  When the authorized QoS applies to the default QoS flow, it shall be\n    provisioned as defined in subclause\u00a04.2.6.3.1.\n\n  -  When the authorized QoS applies to a explicitly signalled QoS\n    Characteristics, it shall be provisionedas defined in\n    subclause\u00a04.2.6.4.2.\n\n  -  When the authorized QoS applies to the Reflective QoS, it shall be\n    provisioned as defined in subclause\u00a04.2.6.2.x.\n\nThe authorized QoS provides appropriate values for the resources to be\nenforced. The authorized QoS for a PCC rule is a request for allocating the\ncorresponding resources. The Provisioning of authorized QoS per PCC rule is\na part of PCC rule provisioning procedure.\n\nIf the SMF cannot allocate any of the resources as authorized by the PCF,\nthe SMF informs the PCF and acts as described PCC Rule Error handling.\n\n  Editor's note:  PCC Rule Error handling is FFS.\n\nThe SMF shall interact with the (R)AN, UPF and UE for enforcing the policy\nbased authorization.\n\nQoS authorization information may be dynamically provisioned by the PCF or\nit may be a pre-defined PCC rule in the SMF. Moreover, all the parameters\nof the authorized QoS may be changed.\n\n  NOTE\u00a01:  A change of 5QIs cannot be described as an upgrade or downgrade\n         and also no 5QI can be referred to as the higher or lower. Whether\n         the 5QI is permitted to be changed or not is subject to both\n         operator policies and normal restrictions on changing from a non-\n         GBR 5QI value to GBR 5QI value on an IP flow.\n\n  NOTE\u00a02:  All attributes of the ARP QoS parameter can be changed but only\n         the ARP priority level represents an ordered range of values. The\n         ARP priority level attribute represents the actual priority for the\n         service/user with the value 1 as the highest and can thus be\n         upgraded and downgraded.\n\nIf the PCF is unable to make a decision for the response to the HTTP POST\nmessage by the SMF, the PCF may reject the request as described in\nsubclause\u00a05.7.\n\n\n4.2.6.5.2   Policy provisioning and enforcement of authorized QoS per\n             service data flow\n\nThe Provisioning of authorized QoS per service data flow is a part of PCC\nrule provisioning procedure, as described in subclause\u00a04.2.6.2.1.\n\nThe authorized QoS per service data flow shall be provisioned within a\nQosData data structure. The PCF shall includea \"qosDecs\" attribute\ncontaining the corresponding QoS data decision within the SmPolicyDecision\ndata structure and include the reference to this QoS data decision within\nthe \"refQosData\" attribute of the PccRule data instance.\n\nWithin the Qos data decision, for 5QI of GBR type, the PCF shall include\nthe authorized GBR 5QI within the \"5qi\" attribute, the ARP within the \"arp\"\nattribute, max bandwidth in uplink within the \"maxbrUl\" attribute, max\nbandwidth in downlink within the \"maxbrDl\" attribute, the guaranteed\nbandwidth in uplink within the \"gbrUl\" attribute and the guaranteed\nbandwidth in downlink within the \"gbrDl\" attribute. The PCF may request a\nnotification when authorized GBR cannot be fulfilled or can be fulfilled\nagain by including the \"qnc\" attribute set to true; for 5QI of non-GBR\ntype, the PCF shall include the authorized non-GBR 5QI within the \"5qi\"\nattribute, and may include the ARP within the \"arp\" attribute and\n\"reflectiveQos\" attribute set to true to enable the Reflective QoS control\nto the service data flow. If the PCF determines that Reflective QoS Control\nwill be enabled for the PDU session based on the operator's policy and user\nsubscriptions, the PCF may provision the Reflective QoS Timer by including\nthe \"reflectiveQoSTimer\" attribute within the SmPolicyDecision data\nstructure during the PDU session establishment.\n\nAt reception of the service information from the AF, if configured through\npolicy, the PCF may determine the Maximum Packet Loss Rate for UL and DL\nbased on the service information. In this case, the PCF shall include the\nMaximum Packet Loss Rate value within the \"maxPacketLossRate\" attribute.\n\n  NOTE\u00a01:  If no ARP is included, a default ARP applies for the service\n         data flow template.\n\n  NOTE\u00a02:  For the non-standardized 5QI, the PCF needs to authorize\n         explicitly signalled QoS Characteristics associated with the 5QI if\n         the PCF has not provisioned it.\n\nIf the PCF wants to ensure that a PCC Rule is always bound to the default\nQoS flow, the policy provisioning for the related authorized QoS shall be\ndone as described in subclause\u00a04.2.8.5.\n\nThe SMF shall perform a QoS flow binding based on the QoS information\nwithin the Qos data decision as defined in subclause 6.4 of\n3GPP\u00a0TS\u00a029.513\u00a0[7] after the SMF installs or activates the PCC rules.\n\nThe SMF shall reserve the resources necessary for the guaranteed bitrate\nfor the PCC rule upon receipt of a PCC rule provisioning including QoS\ninformation. For GBR QoS flows the SMF should set the QoS flow's GBR to the\nsum of the GBRs of all PCC rules that are active/installed and bound to\nthat GBR QoS flow. For GBR QoS flow the SMF should set the QoS flow's MBR\nto the sum of the MBRs of all PCC rules that are active/installed and bound\nto that GBR QoS flow.\n\n  NOTE\u00a03:  Since the PCF controls the GBR value in the PCC rule, the PCF\n         can prevent that uplink GBR resources are reserved by providing an\n         uplink GBR value of zero for that PCC rule This may be useful e.g.\n         for a PCC rule with application identifier as the uplink traffic\n         can be received in other QoS flow than the one the PCC rule is\n         bound to.\n\nThe SMF shall assign  an QFI if a new QoS flow needs to be established and\nshall derive, if applicable, the QoS profile required towards the Access\nNetwork,  the QoS rule required towards the UE and the QoS information with\nPDRs towards to the UPF. If multiple PCC rules with the Maximum Packet Loss\nRate for UL and DL are bound to the same QoS flow, the SMF shall choose the\nlowest value per direction related to the PCC rules within the QoS profile\ntowards to the access network.\n\nUpon deactivation or removal of a PCC rule, the SMF shall free the\nresources reserved for that PCC rule, and initiate the corresponding\nprocedure with access network, UE and UPF to remove the resources.\n\n\n4.2.6.5.3   Policy provisioning and enforcement of  authorized explicitly\n             signalled QoS Characteristics\n\nThe PCF may provision a dynamically assigned 5QI value (from the non-\nstandardized value range) and the associated 5G QoS characteristics to the\nSMF. In order to do so, the PCF shall include the \"qosChars\" attribute to\ncontain one more authorized signalled QoS Characteristics instances. For\neach QosCharacteristics instance, the PCF shall include assigned 5QI value\nwithin the \"5qi\" attribute, resource type value within the \"resourceType\"\nattribute, the 5QI Priority Level value within the \"priorityLevel\"\nattribute, the Packet Delay Budget value within the \"packetDelBudget\"\nattribute, Packet Error Rate value within the \"packetErrorRate\" attribute,\nthe Packet Loss Rate value within the \"packetLossRate\" attribute, the\nAveraging Window value within the \"averagingWindow\" attribute if applicable\nand the Maximum Data Burst Volume value within the \"maximumDataBurstVolume\"\nattribute if applicable.\n\nUpon receiving the authorized explicitly signalled QoS characteristics, the\nSMF shall derive the QoS profile towards the access network and provide it\nto the access network by invoking corresponding procedure.\n\n\n\n\n", "Keywords": ""}, {"key": "Reporting Result of Policy Enforcement", "numbering": "4.2.7", "title_level": 2, "desc": "4.2.7  Reporting Result of Policy Enforcement\n\n\n", "Keywords": ""}, {"key": "Report of Access Network Charging Identifier", "numbering": "4.2.7.1", "title_level": 3, "desc": "4.2.7.1  Report of Access Network Charging Identifier\n\nIf the \"PolicyCtrlReqTriggers\" attribute with the value \"AN_CH_COR\"  has\nbeen provided to the SMF, the SMF shall notify of the PCF the Access\nNetwork Charging Identifier that the SMF has assigned for the dynamic PCC\nRules which referred from the RequestedRuleData data structure containing\nthe CH_ID within the \"reqData\" attribute by including an \"accNetChId\"\nattribute with the \"accNetChaIdValue\" containing the Access Network\nCharging Identifier and one or more \"pccRuleId\" attribute containing\ncorresponding PCC rule identifier(s) within the SmPolicyContextData data\nstructure.\n\n\n", "Keywords": ""}, {"key": "RAN NAS Cause Support", "numbering": "4.2.7.2", "title_level": 3, "desc": "4.2.7.2  RAN NAS Cause Support\n\nWhen RAN-NAS-Cause feature is supported, the PCEF shall maintain locally\nthe removed PCC rules that were referred by the RequestedRuleData instance\ncontaining te \"reqData\" attribute with the RAN_NAS_REL until it reports\nRES_RELEASE policy control request trigger upon reception of the resource\nrelease outcome from the network.\n\nIf the RAN-NAS-Cause feature is supported and the QoS flow is terminated as\na consequence of the removal of one or more PCC rules, the SMF shall inform\nthe PCF about the completion of the QoS flow procedure related to the\nremoval of PCC rules that indicated resource release notification by\nincluding the RequestedRuleData instance containing the \"reqData\" attribute\nwith the RAN_NAS_REL referring to the PCC rule. If the SMF received from\nthe access network some RAN/NAS release cause(s), the SMF shall also\nprovide the received cause(s) in the \"ruleReports\" attribute. The SMF shall\nalso provide the available access network information within the\n\"userLocationInformation\" attribute (if available), \"userLocationInfoTime\"\nattribute (if available) and \"ueTimezone\" attribute (if available).\n\n\n", "Keywords": ""}, {"key": "Npcf_SMPolicyControl Service API", "numbering": "5", "title_level": 0, "desc": "5  Npcf_SMPolicyControl Service API\n\n\n", "Keywords": ""}, {"key": "Introduction", "numbering": "5.1", "title_level": 1, "desc": "5.1  Introduction\n\nThe request URI used in HTTP request from the NF service consumer towards\nthe PCF shall have the structure defined in subclause\u00a04.4.1 of\n3GPP\u00a0TS\u00a029.501\u00a0[2], i.e.:\n\nAll resource URIs of this API shall have the following root:\n\n  {apiRoot}/{apiName}/{apiVersion}/{apiSpecificResourceUriPart}\n\nwith the following components:\n\n  -  The {apiRoot} shall be set as described in 3GPP\u00a0TS\u00a029.501\u00a0[2].\n\n  -  The {apiName} shall be \"npcf_smpolicycontrol\".\n\n  -  The {apiVersion} shall be \"v1\".\n\n  -  The {apiSpecificResourceUriPart} shall be set as described in\n    subclause\u00a05.3.\n\n\n", "Keywords": ""}, {"key": "Usage of HTTP", "numbering": "5.2", "title_level": 1, "desc": "5.2  Usage of HTTP\n\n\n", "Keywords": ""}, {"key": "General", "numbering": "5.2.1", "title_level": 2, "desc": "5.2.1  General\n\nHTTP/2, IETF\u00a0RFC\u00a07540\u00a0[8], shall be used as specified in clause\u00a05 of\n3GPP\u00a0TS\u00a029.500\u00a0[4].\n\nHTTP/2, shall be transported as specified in subclause\u00a05.3 of\n3GPP\u00a0TS\u00a029.500\u00a0[4].\n\nAn OpenAPI\u00a0[10] specification of HTTP messages and content bodies for the\nNpcf_SMPolicyControl is contained in Annex\u00a0A.\n\n\n", "Keywords": ""}, {"key": "HTTP standard headers", "numbering": "5.2.2", "title_level": 2, "desc": "5.2.2  HTTP standard headers\n\n\n", "Keywords": ""}, {"key": "General", "numbering": "5.2.2.1", "title_level": 3, "desc": "5.2.2.1  General\n\nSee subclause\u00a05.2.2 of 3GPP\u00a0TS\u00a029.500\u00a0[4] for the usage of HTTP standard\nheaders.\n\n\n", "Keywords": ""}, {"key": "Content type", "numbering": "5.2.2.2", "title_level": 3, "desc": "5.2.2.2  Content type\n\nJSON, IETF\u00a0RFC\u00a08259\u00a0[9], shall be used as content type of the HTTP bodies\nspecified in the present specification as specified in subclause\u00a05.4 of\n3GPP\u00a0TS\u00a029.500\u00a0[4].\n\n\n", "Keywords": ""}, {"key": "HTTP custom headers", "numbering": "5.2.3", "title_level": 2, "desc": "5.2.3  HTTP custom headers\n\n\n", "Keywords": ""}, {"key": "General", "numbering": "5.2.3.1", "title_level": 3, "desc": "5.2.3.1  General\n\n\n", "Keywords": ""}, {"key": "Resources", "numbering": "5.3", "title_level": 1, "desc": "5.3  Resources\n\n\n", "Keywords": ""}, {"key": "Resource Structure", "numbering": "5.3.1", "title_level": 2, "desc": "5.3.1  Resource Structure\n\n                                    [pic]\n\n   Figure\u00a05.3.1-1: Resource URI structure of the Npcf_SMPolicyControl API\n\nTable\u00a05.3.1-1 provides an overview of the resources and applicable HTTP\nmethods.\n\n                Table\u00a05.3.1-1: Resources and methods overview\n\n|Resource name |Resource URI          |HTTP method |Description             |\n|              |                      |or custom   |                        |\n|              |                      |operation   |                        |\n|SM Policies   |{apiRoot}/            |POST        |Create a new Individual |\n|              |npcf-smpolicycontrol/ |            |SM Policies resource for|\n|              |v1/sm-policies        |            |an SUPI and PDU Session |\n|              |                      |            |ID supplied by the SMF. |\n|Individual SM |{apiRoot}/            |GET         |Read the Individual SM  |\n|Policy        |npcf-smpolicycontrol/ |            |Policies resource.      |\n|              |v1/sm-policies/{smPoli|            |                        |\n|              |cyId}                 |            |                        |\n|              |{apiRoot}/            |Delete      |Delete the Individual SM|\n|              |npcf-smpolicycontrol/v|(POST)      |Policies resource.      |\n|              |1/                    |            |                        |\n|              |sm-policies/{smPolicyI|            |                        |\n|              |d}/delete             |            |                        |\n|              |{apiRoot}/            |Modify      |Update the Individual SM|\n|              |npcf-smpolicycontrol/v|(POST)      |Policies resource when a|\n|              |1/                    |            |policy control request  |\n|              |sm-policies/{smPolicyI|            |event is met.           |\n|              |d}/modify             |            |                        |\n\n\n\n", "Keywords": ""}, {"key": "Resource: SM Policies", "numbering": "5.3.2", "title_level": 2, "desc": "5.3.2  Resource: SM Policies\n\n\n", "Keywords": ""}, {"key": "Description", "numbering": "5.3.2.1", "title_level": 3, "desc": "5.3.2.1  Description\n\nThis resource represents the collection of the individual SM Policies\ncreated in the PCF.\n\n\n", "Keywords": ""}, {"key": "Resource definition", "numbering": "5.3.2.2", "title_level": 3, "desc": "5.3.2.2  Resource definition\n\nResource URI: {apiRoot}/npcf-smpolicycontrol/v1/sm-policies\n\nThis resource shall support the resource URI variables defined in\ntable\u00a05.3.2.2-1.\n\n          Table\u00a05.3.2.2-1: Resource URI variables for this resource\n\n|Name            |Definition                                               |\n|apiRoot         |See subclause\u00a05.1                                        |\n\n\n\n", "Keywords": ""}, {"key": "Resource Standard Methods", "numbering": "5.3.2.3", "title_level": 3, "desc": "5.3.2.3  Resource Standard Methods\n\n\n", "Keywords": ""}, {"key": "POST", "numbering": "5.3.2.3.1", "title_level": 4, "desc": "5.3.2.3.1   POST\n\nThis method shall support the URI query parameters specified in\ntable\u00a05.3.2.3.1-1.\n\n   Table\u00a05.3.2.3.1-1: URI query parameters supported by the POST method on\n                                this resource\n\n|Name       |Data type |P |Cardinal|Description                            |\n|           |          |  |ity     |                                       |\n\n\nThis method shall support the request data structures specified in\ntable\u00a05.3.2.3.1-2 and the response data structures and response codes\nspecified in table\u00a05.3.2.3.1-3.\n\n  Table\u00a05.3.2.3.1-2: Data structures supported by the POST Request Body on\n                                this resource\n\n|Data type      |P |Cardinal|Description                                   |\n|               |  |ity     |                                              |\n|SmPolicyContext|M |1       |Parameters to create an individual SM policies|\n|Data           |  |        |resources.                                    |\n\n\n  Table\u00a05.3.2.3.1-3: Data structures supported by the POST Response Body on\n                                this resource\n\n|Data type   |P |Cardinality|Respons|Description                            |\n|            |  |           |e codes|                                       |\n\n\n\n", "Keywords": ""}, {"key": "Resource Custom Operations", "numbering": "5.3.2.4", "title_level": 3, "desc": "5.3.2.4  Resource Custom Operations\n\nNone.\n\n\n", "Keywords": ""}, {"key": "Resource: Individual SM Policy", "numbering": "5.3.3", "title_level": 2, "desc": "5.3.3  Resource: Individual SM Policy\n\n\n", "Keywords": ""}, {"key": "Description", "numbering": "5.3.3.1", "title_level": 3, "desc": "5.3.3.1  Description\n\nThe individual SM Policy resource represents an individual SM Policy\ncreated in the PCF and associated with the SUPI and PDU session ID.\n\n\n", "Keywords": ""}, {"key": "Resource definition", "numbering": "5.3.3.2", "title_level": 3, "desc": "5.3.3.2  Resource definition\n\nResource URI: {apiRoot}/npcf-smpolicycontrol/v1/sm-policies/{smPolicyId}\n\nThis resource shall support the resource URI variables defined in\ntable\u00a05.3.3.2-1.\n\n          Table\u00a05.3.3.2-1: Resource URI variables for this resource\n\n|Name            |Definition                                                 |\n|apiRoot         |See subclause\u00a05.1                                          |\n|smPolicyId      |Unique identifier of the individual SM Policy resource.    |\n\n\n\n", "Keywords": ""}, {"key": "Resource Standard Methods", "numbering": "5.3.3.3", "title_level": 3, "desc": "5.3.3.3  Resource Standard Methods\n\n\n", "Keywords": ""}, {"key": "GET", "numbering": "5.3.3.3.1", "title_level": 4, "desc": "5.3.3.3.1   GET\n\nThis method shall support the URI query parameters specified in\ntable\u00a05.3.3.3.1-1.\n\n Table\u00a05.3.3.3.1-1: URI query parameters supported by the GET method on this\n                                  resource\n\n|Name       |Data type |P |Cardinal|Description                            |\n|           |          |  |ity     |                                       |\n\n\nThis method shall support the request data structures specified in\ntable\u00a05.3.3.3.1-2 and the response data structures and response codes\nspecified in table\u00a05.3.3.3.1-3.\n\n   Table\u00a05.3.3.3.1-2: Data structures supported by the GET Request Body on\n                                this resource\n\n|Data type      |P |Cardinal|Description                                    |\n|               |  |ity     |                                               |\n|n/a            |  |        |                                               |\n\n\n  Table\u00a05.3.3.3.1-3: Data structures supported by the GET Response Body on\n                                this resource\n\n|Data type      |P |Cardinal|Response   |Description                        |\n|               |  |ity     |codes      |                                   |\n|               |  |        |FFS( error |                                   |\n|               |  |        |case)      |                                   |\n\n  Editor's Note:  The description of failure cases is FFS\n\n\n", "Keywords": ""}, {"key": "DELETE", "numbering": "5.3.3.3.2", "title_level": 4, "desc": "5.3.3.3.2   DELETE\n\nThis method shall support the URI query parameters specified in\ntable\u00a05.3.3.3.2-1.\n\n  Table\u00a05.3.3.3.2-1: URI query parameters supported by the DELETE method on\n                                this resource\n\n|Name         |Data type |P  |Cardinal|Description                          |\n|             |          |   |ity     |                                     |\n\n\nThis method shall support the request data structures specified in\ntable\u00a05.3.3.3.2-2 and the response data structures and response codes\nspecified in table\u00a05.3.3.3.2-3.\n\n Table\u00a05.3.3.3.2-2: Data structures supported by the DELETE Request Body on\n                                this resource\n\n|Data type     |P |Cardinali|Description                                    |\n|              |  |ty       |                                               |\n|n/a           |  |         |                                               |\n\n\n Table\u00a05.3.3.3.2-3: Data structures supported by the DELETE Response Body on\n                                this resource\n\n|Data type       |P |Cardinal|Response   |Description                       |\n|                |  |ity     |codes      |                                  |\n\n\n\n", "Keywords": ""}, {"key": "Resource Custom Operations", "numbering": "5.3.3.4", "title_level": 3, "desc": "5.3.3.4  Resource Custom Operations\n\n\n", "Keywords": ""}, {"key": "Overview", "numbering": "5.3.3.4.1", "title_level": 4, "desc": "5.3.3.4.1   Overview\n\n                    Table\u00a05.3.3.4.1-1: Custom operations\n\n|Custom operation URI   |Mapped HTTP     |Description                     |\n|                       |method          |                                |\n|{apiRoot}/             |POST            |Delete an individual SM Policy  |\n|npcf-smpolicycontrol/  |                |resource.                       |\n|v1/sm-policies/{smPolic|                |                                |\n|yId}/delete            |                |                                |\n|{apiRoot}/             |POST            |Update an individual SM Policy  |\n|npcf-smpolicycontrol/  |                |resource.                       |\n|v1/sm-policies/{smPolic|                |                                |\n|yId}/modify            |                |                                |\n\n\n\n", "Keywords": ""}, {"key": "Operation: delete", "numbering": "5.3.3.4.2", "title_level": 4, "desc": "5.3.3.4.2   Operation: delete\n\n\n", "Keywords": ""}, {"key": "Description", "numbering": "5.3.3.4.2.1", "title_level": 5, "desc": "5.3.3.4.2.1 Description\n\n\n", "Keywords": ""}, {"key": "Operation Definition", "numbering": "5.3.3.4.2.2", "title_level": 5, "desc": "5.3.3.4.2.2 Operation Definition\n\nThis custom operation deletes an individual SM Policy resource in the PCF.\n\nThis operation shall support the request data structures specified in\ntable\u00a05.3.3.4.2.2-1 and the response data structure and response codes\nspecified in table\u00a05.3.3.4.2.2-2.\n\n Table\u00a05.3.3.4.2.2-1: Data structures supported by the POST Request Body on\n                                this resource\n\n|Data type      |P  |Cardinali|Description                                  |\n|               |   |ty       |                                             |\n|SmPolicyDeleteD|O  |0..1     |Parameters to be sent by the SMF when the    |\n|ata            |   |         |individual SM policy is deleted.             |\n\n\n Table\u00a05.3.3.4.2.2-2: Data structures supported by the POST Response Body on\n                                this resource\n\n|Data type |P  |Cardinali|Response   |Description                           |\n|          |   |ty       |codes      |                                      |\n\n\n\n", "Keywords": ""}, {"key": "Operation: modify", "numbering": "5.3.3.4.3", "title_level": 4, "desc": "5.3.3.4.3   Operation: modify\n\n\n", "Keywords": ""}, {"key": "Description", "numbering": "5.3.3.4.3.1", "title_level": 5, "desc": "5.3.3.4.3.1 Description\n\n\n", "Keywords": ""}, {"key": "Operation Definition", "numbering": "5.3.3.4.3.2", "title_level": 5, "desc": "5.3.3.4.3.2 Operation Definition\n\nThis custom operation updates an individual SM Policy resource in the PCF.\n\nThis operation shall support the request data structures specified in\ntable\u00a05.3.3.4.3.2-1 and the response data structure and response codes\nspecified in table\u00a05.3.3.4.3.2-2.\n\n Table\u00a05.3.3.4.3.2-1: Data structures supported by the POST Request Body on\n                                this resource\n\n|Data type          |P  |Cardinali|Description                              |\n|                   |   |ty       |                                         |\n|SmPolicyUpdateConte|M  |1        |Parameters to be sent by the SMF when the|\n|xtData             |   |         |individual SM policy is updated. It      |\n|                   |   |         |indicates the occurred changes.          |\n\n\n Table\u00a05.3.3.4.3.2-2: Data structures supported by the POST Response Body on\n                                this resource\n\n|Data type        |P |Cardinal|Response   |Description                      |\n|                 |  |ity     |codes      |                                 |\n\n\n\n", "Keywords": ""}, {"key": "Custom Operations without associated resources", "numbering": "5.4", "title_level": 1, "desc": "5.4  Custom Operations without associated resources\n\nNone.\n\n\n", "Keywords": ""}, {"key": "Notifications", "numbering": "5.5", "title_level": 1, "desc": "5.5  Notifications\n\n\n", "Keywords": ""}, {"key": "General", "numbering": "5.5.1", "title_level": 2, "desc": "5.5.1  General\n\n                        Table\u00a05.5.1-1: Notifications\n\n|Custom operation URI    |Mapped HTTP |Description                         |\n|                        |method      |                                    |\n|{Notification           |POST        |Policy Update Notification.         |\n|URI}/update             |            |                                    |\n|{Notification           |POST        |Request for termination of the      |\n|URI}/terminate          |            |policy association.                 |\n\n\n\n", "Keywords": ""}, {"key": "Policy Update Notification", "numbering": "5.5.2", "title_level": 2, "desc": "5.5.2  Policy Update Notification\n\nURI: {Notification URI}/update\n\nThe operation shall support the URI variables defined in table\u00a05.5.4.2-1.\n\n                       Table\u00a05.3.4.2-1: URI variables\n\n|Name                   |Definition                                        |\n|NotificationUrl        |reference provided by the SMF during the initial  |\n|                       |retrieval of the SM Policies.                     |\n\n\nThis method shall support the URI query parameters specified in table\u00a05.5.2-\n2.\n\n   Table\u00a05.3.4.3.1-1: URI query parameters supported by the POST method on\n                                this resource\n\n|Name         |Data type  |P |Cardinal|Description                          |\n|             |           |  |ity     |                                     |\n\n\nThis method shall support the request data structures specified in\ntable\u00a05.5.2-3 and the response data structures and response codes specified\nin table\u00a05.3.4.3.1-3.\n\n  Table\u00a05.5.2-3: Data structures supported by the POST Request Body on this\n                                  resource\n\n|Data type          |P  |Cardinal|Description                               |\n|                   |   |ity     |                                          |\n|SmPolicyNotificatio|M  |1       |Update the SM policies provided by the PCF|\n|n                  |   |        |                                          |\n\n\n Table\u00a05.5.2-4: Data structures supported by the POST Response Body on this\n                                  resource\n\n|Data type        |P |Cardinal|Response   |Description                      |\n|                 |  |ity     |codes      |                                 |\n|                 |  |        |FFS( error |                                 |\n|                 |  |        |case)      |                                 |\n\n\n  Editor's note: The description of failure cases is FFS.\n\n\n", "Keywords": ""}, {"key": "Request for termination of the policy association", "numbering": "5.5.3", "title_level": 2, "desc": "5.5.3  Request for termination of the policy association\n\n\n", "Keywords": ""}, {"key": "Description", "numbering": "5.5.3.1", "title_level": 3, "desc": "5.5.3.1  Description\n\nThis notification is used by the PCF to request the termination of a policy\nassociation.\n\n\n", "Keywords": ""}, {"key": "Operation Definition", "numbering": "5.5.3.2", "title_level": 3, "desc": "5.5.3.2  Operation Definition\n\nThis operation shall support the request data structures specified in\ntable\u00a05.5.3.2-1 and the response data structure and response codes\nspecified in table\u00a05.5.3.2-2.\n\n Table\u00a05.5.3.2-1: Data structures supported by the POST Request Body on this\n                                  resource\n\n|Data type       |P  |Cardinal|Description                                  |\n|                |   |ity     |                                             |\n|TerminationNotif|M  |1       |Request to terminate the policy association. |\n|ication         |   |        |                                             |\n\n\n   Table\u00a05.5.3.2-2: Data structures supported by the POST Response Body on\n                                this resource\n\n|Data type  |P |Cardinali|Response   |Description                          |\n|           |  |ty       |codes      |                                     |\n\n\n\n", "Keywords": ""}, {"key": "Data Model", "numbering": "5.6", "title_level": 1, "desc": "5.6  Data Model\n\n\n", "Keywords": ""}, {"key": "General", "numbering": "5.6.1", "title_level": 2, "desc": "5.6.1  General\n\nThis subclause specifies the application data model supported by the API.\n\nThe Npcf_SMPolicyControl API allows the SMF to retrieve the session\nmanagement related policy from the PCF as defined in 3GPP\u00a0TS\u00a023.503\u00a0[6].\n\nTable\u00a05.6.1-1 specifies the data types defined for the Npcf_SMPolicyControl\nservice based interface protocol.\n\n           Table 5.6.1-1: Npcf_SMPolicyControl specific Data Types\n\n|Data type           |Section     |Description                    |Applicabil|\n|                    |defined     |                               |ity       |\n|AccuUsageReport     |5.6.2.18    |                               |          |\n|ChargingData        |5.6.2.11    |Contains charging related      |          |\n|                    |            |parameters. Inherits all       |          |\n|                    |            |parameters from DecisionData.  |          |\n|ChargingInformation |5.6.2.17    |                               |          |\n|ConditionData       |5.6.2.9     |Contains conditions for        |          |\n|                    |            |applicability of a rule.       |          |\n|FlowDirection       |5.6.3.3     |                               |          |\n|FlowInformation     |5.6.2.14    |Contains the flow information. |          |\n|FlowStatus          |FFS         |Indicates the flow status.     |          |\n|MeteringMethod      |5.6.3.5     |Indicates the metering method. |          |\n|PccRule             |5.6.2.6     |Contains the PCC rule          |          |\n|                    |            |information.                   |          |\n|PolicyControlRequest|5.6.3.6     |                               |          |\n|Trigger             |            |                               |          |\n|QosCharacteristics  |5.6.2.16    |Contains QoS characteristics   |          |\n|                    |            |for a non standard 5QI.        |          |\n|QoSData             |5.6.2.8     |Contains the QoS parameters.   |          |\n|RedirectAddressType |FFS         |Indicates the redirect address |          |\n|                    |            |type.                          |          |\n|RedirectInformation |5.6.2.13    |Contains the redirect          |          |\n|                    |            |information.                   |          |\n|ReportingLevel      |5.6.3.4     |Indicates the reporting level. |          |\n|RequestedRuleData   |5.6.2.24    |Contains rule data requested by|          |\n|                    |            |the PCF to receive information |          |\n|                    |            |associated with PCC rules.     |          |\n|RequestedRuleDataTyp|5.6.3.7     |Contains the type of rule data |          |\n|e                   |            |requested by the PCF.          |          |\n|RequestedUsageData  |5.6.2.25    |Contains usage data requested  |          |\n|                    |            |by the PCF requesting usage    |          |\n|                    |            |reports for the corresponding  |          |\n|                    |            |usage monitoring data          |          |\n|                    |            |instances.                     |          |\n|SessionRule         |5.6.2.7     |Contains session level policy  |          |\n|                    |            |information.                   |          |\n|SmPolicyControl     |5.6.2.2     |Contains the parameters to     |          |\n|                    |            |request the SM policies and the|          |\n|                    |            |SM policies authorized by the  |          |\n|                    |            |PCF.                           |          |\n|SmPolicyContextData |5.6.2.3     |Contains the parameters to     |          |\n|                    |            |create individual SM policy    |          |\n|                    |            |resource.                      |          |\n|SmPolicyDecision    |5.6.2.4     |Contains the SM policies       |          |\n|                    |            |authorized by the PCF.         |          |\n|SmPolicyNotification|5.6.2.5     |Contains the update of the SM  |          |\n|                    |            |policies                       |          |\n|SmPolicyDeleteData  |5.6.2.15    |Contains the parameters to be  |          |\n|                    |            |sent to the PCF when the       |          |\n|                    |            |individual SM policy is        |          |\n|                    |            |deleted.                       |          |\n|SmPolicyUpdateContex|5.6.2.19    |                               |          |\n|tData               |            |                               |          |\n|TerminationNotificat|5.6.2.21    |Termination Notification       |          |\n|ion                 |            |                               |          |\n|TrafficControlData  |5.6.2.10    |Contains parameters determining|          |\n|                    |            |how flows associated with a    |          |\n|                    |            |PCCRule are treated (blocked,  |          |\n|                    |            |redirected, etc). Inherits all |          |\n|                    |            |parameters from DecisionData.  |          |\n|UsageMonitoringData |5.6.2.12    |Contains usage monitoring      |          |\n|                    |            |related control information.   |          |\n|                    |            |Inherits all parameters from   |          |\n|                    |            |DecisionData.                  |          |\n\n\nTable\u00a05.6.1-2 specifies data types re-used by the Npcf_SMPolicyControl\nservice based interface protocol from other specifications, including a\nreference to their respective specifications and when needed, a short\ndescription of their use within the Npcf_SMPolicyControl service based\ninterface.\n\n           Table\u00a05.6.1-2: Npcf_SMPolicyControl re-used Data Types\n\n|Data type       |Reference     |Comments                        |Applicabil|\n|                |              |                                |ity       |\n|5qi             |3GPP\u00a0TS\u00a029.571|Unsigned integer representing a |          |\n|                |\u00a0[11]         |5G QoS Identifier (see          |          |\n|                |              |subclause\u00a05.7.2.1 of            |          |\n|                |              |3GPP\u00a0TS\u00a023.501\u00a0[8]), within the |          |\n|                |              |range 0 to 255. In an           |          |\n|                |              |OpenAPI\u00a0Specification\u00a0[3]       |          |\n|                |              |schema, the format shall be     |          |\n|                |              |designated as \"5qi\".            |          |\n|5qiPriorityLevel|3GPP\u00a0TS\u00a029.571|Unsigned integer indicating the |          |\n|                |\u00a0[11]         |5QI Priority Level (see         |          |\n|                |              |subclauses\u00a05.7.3.3 and 5.7.4 of |          |\n|                |              |3GPP\u00a0TS\u00a023.501\u00a0[8]), within the |          |\n|                |              |range 1 to 127.                 |          |\n|                |              |Values are ordered in decreasing|          |\n|                |              |order of priority, i.e. with 1  |          |\n|                |              |as the highest priority and 127 |          |\n|                |              |as the lowest priority.         |          |\n|                |              |In an OpenAPI\u00a0Specification\u00a0[3] |          |\n|                |              |schema, the format shall be     |          |\n|                |              |designated as                   |          |\n|                |              |\"5qiPriorityLevel\".             |          |\n|AccessType      |3GPP\u00a0TS\u00a029.571|The identification of the type  |          |\n|                |\u00a0[11]         |of access network.              |          |\n|AfSignallingProt|FFS           |                                |          |\n|ocol            |              |                                |          |\n|Ambr            |3GPP\u00a0TS\u00a029.571|Session AMBR                    |          |\n|                |\u00a0[11]         |                                |          |\n|AverWindow      |3GPP\u00a0TS\u00a029.571|Averaging Window                |          |\n|                |\u00a0[11]         |                                |          |\n|BitRate         |3GPP\u00a0TS\u00a029.571|String representing a bit rate  |          |\n|                |\u00a0[11]         |that shall be formatted as      |          |\n|                |              |follows:                        |          |\n|                |              |                                |          |\n|                |              |pattern: \"^\\d+(\\.\\d+)?          |          |\n|                |              |(bps|Kbps|Mbps|Gbps|Tbps)$\"     |          |\n|                |              |Examples:                       |          |\n|                |              |\"125 Mbps\", \"0.125 Gbps\",       |          |\n|                |              |\"125000 Kbps\"                   |          |\n|                |              |                                |          |\n|                |              |In an OpenAPI\u00a0Specification\u00a0[3] |          |\n|                |              |schema, the format shall be     |          |\n|                |              |designated as \"BitRate\".        |          |\n|ChargingInformat|3GPP\u00a0TS\u00a029.571|                                |          |\n|ion             |\u00a0[11]         |                                |          |\n|DefaultQosInform|3GPP\u00a0TS\u00a029.571|Identifies the information of   |          |\n|ation           |\u00a0[11]         |the default QoS.                |          |\n|Dnn             |3GPP\u00a0TS\u00a029.571|The DNN the user is connected   |          |\n|                |\u00a0[11]         |to.                             |          |\n|DurationSec     |3GPP\u00a0TS\u00a029.571|Identifies a period of time in  |          |\n|                |\u00a0[11]         |units of seconds.               |          |\n|Ipv4Addr        |3GPP\u00a0TS\u00a029.571|The Ipv4 address allocated for  |          |\n|                |\u00a0[11]         |the user.                       |          |\n|Ipv6Prefix      |3GPP\u00a0TS\u00a029.571|The Ipv6 prefix allocated for   |          |\n|                |\u00a0[11]         |the user.                       |          |\n|MaxDataBurstVol |3GPP\u00a0TS\u00a029.571|Maximum Data Burst Volume       |          |\n|                |\u00a0[11]         |                                |          |\n|NetworkId       |3GPP\u00a0TS\u00a029.571|The identification of the       |          |\n|                |\u00a0[11]         |Network.                        |          |\n|PacketDelBudget |3GPP\u00a0TS\u00a029.571|Packet Delay Budget             |          |\n|                |\u00a0[11]         |                                |          |\n|PacketErrRate   |3GPP\u00a0TS\u00a029.571|Packet Error Rate               |          |\n|                |\u00a0[11]         |                                |          |\n|PduSessionId    |3GPP\u00a0TS\u00a029.571|The identification of the PDU   |          |\n|                |\u00a0[11]         |session.                        |          |\n|Pei             |3GPP\u00a0TS\u00a029.571|The Identification of a         |          |\n|                |\u00a0[11]         |Permanent Equipment.            |          |\n|RatType         |3GPP\u00a0TS\u00a029.571|The identification of the RAT   |          |\n|                |\u00a0[11]         |type.                           |          |\n|ResourceType(FFS|3GPP\u00a0TS\u00a029.571|Indicates whether the resource  |          |\n|)               |\u00a0[11]         |type is GBR, delay critical GBR,|          |\n|                |              |or non-GBR.                     |          |\n|Supi            |3GPP\u00a0TS\u00a029.571|The identification of the user  |          |\n|                |\u00a0[11]         |(i.e. IMSI, NAI).               |          |\n|SupportedFeature|3GPP\u00a0TS\u00a029.571|Used to negotiate the           |          |\n|s               |\u00a0[11]         |applicability of the optional   |          |\n|                |              |features defined in table\u00a05.8-1.|          |\n|UeTimeZone      |3GPP\u00a0TS\u00a029.571|                                |          |\n|                |\u00a0[11]         |                                |          |\n|Uri             |3GPP\u00a0TS\u00a029.571|                                |          |\n|                |\u00a0[11]         |                                |          |\n|UserLocation    |3GPP\u00a0TS\u00a029.571|                                |          |\n|                |\u00a0[11]         |                                |          |\n\n\n\n", "Keywords": ""}, {"key": "Structured data types", "numbering": "5.6.2", "title_level": 2, "desc": "5.6.2  Structured data types\n\n\n", "Keywords": ""}, {"key": "Introduction", "numbering": "5.6.2.1", "title_level": 3, "desc": "5.6.2.1  Introduction\n\nThis subclause defines the structures to be used in resource\nrepresentations.\n\nAllowed structures are: array, object.\n\n\n", "Keywords": ""}, {"key": "Type SmPolicyControl", "numbering": "5.6.2.2", "title_level": 3, "desc": "5.6.2.2  Type SmPolicyControl\n\n             Table\u00a05.6.2.2-1: Definition of type SmPolicyControl\n\n|Attribute   |Data type     |P |Cardinal|Description              |Applicabil|\n|name        |              |  |ity     |                         |ity       |\n|policy      |SmPolicyDecisi|M |1       |Includes the SM policies |          |\n|            |on            |  |        |authorized by the PCF.   |          |\n\n\n\n", "Keywords": ""}, {"key": "Type SmPolicyContextData", "numbering": "5.6.2.3", "title_level": 3, "desc": "5.6.2.3  Type SmPolicyContextData\n\n           Table\u00a05.6.2.3-1: Definition of type SmPolicyContextData\n\n|Attribute name|Data type    |P |Cardinali|Description            |Applicabil|\n|              |             |  |ty       |                       |ity       |\n|gpsi          |Gpsi         |O |0..1     |Gpsi shall contain     |          |\n|              |             |  |         |either an External Id  |          |\n|              |             |  |         |or an MSISDN.          |          |\n|supi          |Supi         |M |1        |Subscription Permanent |          |\n|              |             |  |         |Identifier             |          |\n|pduSessionId  |PduSessionId |M |1        |PDU session Id         |          |\n|dnn           |Dnn          |M |1        |The DNN of the PDU     |          |\n|              |             |  |         |session.               |          |\n|smPoliciesUpda|Uri          |M |1        |Identifies the         |          |\n|teNotification|             |  |         |recipient of SM        |          |\n|Url           |             |  |         |policies update        |          |\n|              |             |  |         |notifications sent by  |          |\n|              |             |  |         |the PCF.               |          |\n|accessType    |AccessType   |O |0..1     |The Access Type where  |          |\n|              |             |  |         |the served UE is       |          |\n|              |             |  |         |camping.               |          |\n|ratType       |RatType      |O |0..1     |The RAT Type where the |          |\n|              |             |  |         |served UE is camping.  |          |\n|servingNetwork|NetworkId    |O |0..1     |The serving network    |          |\n|              |             |  |         |where the served UE is |          |\n|              |             |  |         |camping.               |          |\n|userLocationIn|UserLocation |O |0..1     |The location of the    |          |\n|formation     |             |  |         |served UE is camping.  |          |\n|ueTimeZone    |TimeZone     |O |0..1     |The time zone where the|          |\n|              |             |  |         |served UE is camping.  |          |\n|pei           |Pei          |O |0..1     |The Permanent Equipment|          |\n|              |             |  |         |Identifier of the      |          |\n|              |             |  |         |served UE.             |          |\n|ipv4Address   |Ipv4Addr     |O |0..1     |The IPv4 Address of the|          |\n|              |             |  |         |served UE.             |          |\n|ipv6AddressPre|Ipv6Prefix   |O |0..1     |The Ipv6 Address Prefix|          |\n|fix           |             |  |         |of the served UE.      |          |\n|subSessAmbr   |Ambr         |O |0..1     |Subscribed             |          |\n|              |             |  |         |Session-AMBR.          |          |\n|subscribedDefa|DefaultQosInf|O |0..1     |Subscribed Default QoS |          |\n|ultQosInformat|ormation     |  |         |Information.           |          |\n|ion           |             |  |         |                       |          |\n|online        |boolean      |O |0..1     |If it is included and  |          |\n|              |             |  |         |set to true, the online|          |\n|              |             |  |         |charging is applied to |          |\n|              |             |  |         |the PDU session.       |          |\n|offline       |boolean      |O |0..1     |If it is included and  |          |\n|              |             |  |         |set to true, the       |          |\n|              |             |  |         |offline charging is    |          |\n|              |             |  |         |applied to the PDU     |          |\n|              |             |  |         |session.               |          |\n|3gppPsDataOffS|boolean      |O |0..1     |If it is included and  |          |\n|tatus         |             |  |         |set to true, the 3GPP  |          |\n|              |             |  |         |PS Data Off is         |          |\n|              |             |  |         |activated by the UE.   |          |\n|supportedFeatu|SupportedFeat|C |0..1     |Indicates the list of  |          |\n|res           |ures         |  |         |Supported features used|          |\n|              |             |  |         |as described in        |          |\n|              |             |  |         |subclause\u00a05.8.         |          |\n|              |             |  |         |This parameter shall be|          |\n|              |             |  |         |supplied by the NF     |          |\n|              |             |  |         |service consumer in the|          |\n|              |             |  |         |POST request that      |          |\n|              |             |  |         |request the creation of|          |\n|              |             |  |         |an individual SM policy|          |\n|              |             |  |         |resource and by the PCF|          |\n|              |             |  |         |in the related         |          |\n|              |             |  |         |response, respectively.|          |\n\n\n\n", "Keywords": ""}, {"key": "Type SmPolicyDecision", "numbering": "5.6.2.4", "title_level": 3, "desc": "5.6.2.4  Type SmPolicyDecision\n\n            Table\u00a05.6.2.4-1: Definition of type SmPolicyDecision\n\n|Attribute    |Data type     |P |Cardinali|Description            |Applicabil|\n|name         |              |  |ty       |                       |ity       |\n|pccRules     |map(PccRule)  |O |0..N     |A map of PCC rules with|          |\n|             |              |  |         |the content being the  |          |\n|             |              |  |         |PCCRule as described in|          |\n|             |              |  |         |subclause\u00a05.6.2.6.     |          |\n|qosDecs      |map(QoSData)  |O |0..N     |Map of QoS data policy |          |\n|             |              |  |         |decisions.             |          |\n|ChgDecs      |map(ChargingDa|O |0..N     |Map of Charging data   |          |\n|             |ta)           |  |         |policy decisions.      |          |\n|chargingInfo |ChargingInform|O |0..1     |Contains the CHF       |          |\n|             |ation         |  |         |addresses of the PDU   |          |\n|             |              |  |         |session.               |          |\n|traffContDecs|map(TrafficCon|O |0..N     |Map of Traffic Control |          |\n|             |trolData)     |  |         |data policy decisions. |          |\n|umDecs       |map(UsageMonit|O |0..N     |Map of Usage Monitoring|          |\n|             |oringData)    |  |         |data policy decisions. |          |\n|qosChars     |map(QosCharact|C |0..N     |Map of QoS             |          |\n|             |eristics)     |  |         |characteristics for non|          |\n|             |              |  |         |standard 5QIs. This map|          |\n|             |              |  |         |uses the 5QI values as |          |\n|             |              |  |         |keys.                  |          |\n|reflectiveQoS|DurationSec   |O |0..1     |Defines the lifetime of|          |\n|Timer        |              |  |         |a UE derived QoS rule  |          |\n|             |              |  |         |belonging to the PDU   |          |\n|             |              |  |         |Session for reflective |          |\n|             |              |  |         |QoS.                   |          |\n|conds        |map(ConditionD|O |0..N     |A map of condition data|          |\n|             |ata)          |  |         |with the content being |          |\n|             |              |  |         |as described in        |          |\n|             |              |  |         |subclause\u00a05.6.2.9.     |          |\n|revalidationT|DateTime      |O |0..1     |Defines the time before|          |\n|ime          |              |  |         |which the SMF shall    |          |\n|             |              |  |         |have to re-request PCC |          |\n|             |              |  |         |rules.                 |          |\n|policyCtrlReq|array(PolicyCo|O |0..N     |Defines the policy     |          |\n|Triggers     |ntrolRequestTr|  |         |control request        |          |\n|             |igger)        |  |         |triggers subscribed by |          |\n|             |              |  |         |the PCF.               |          |\n|lastReqRuleDa|array(Requeste|O |0..N     |Defines the last list  |          |\n|ta           |dRuleData)    |  |         |of rule control data   |          |\n|             |              |  |         |requested by the PCF.  |          |\n|lastReqUsageD|RequestedUsage|O |0..1     |Defines the last       |          |\n|ata          |Data          |  |         |requested usage data by|          |\n|             |              |  |         |the PCF.               |          |\n\n\n\n", "Keywords": ""}, {"key": "Type SmPolicyNotification", "numbering": "5.6.2.5", "title_level": 3, "desc": "5.6.2.5  Type SmPolicyNotification\n\n          Table\u00a05.6.2.5-1: Definition of type SmPolicyNotification\n\n|Attribute name|Data type   |P |Cardinal|Description              |Applicabi|\n|              |            |  |ity     |                         |lity     |\n|pduSessionId  |PduSessionId|  |1       |PDU session id           |         |\n|smPolicyDecisi|SmPolicyDeci|  |1       |Session management policy|         |\n|on            |sion        |  |        |(see subclause\u00a05.6.2.4). |         |\n\n\n  Editor's note:  The use of smPolicyDecision is FFS.\n\n  Editor's note:  The indication of the presence of the attributes is FFS.\n\n\n", "Keywords": ""}, {"key": "Type PccRule", "numbering": "5.6.2.6", "title_level": 3, "desc": "5.6.2.6  Type PccRule\n\n                 Table\u00a05.6.2.6-1: Definition of type PccRule\n\n|Attribute   |Data type       |P  |Cardinali|Description           |Applicabil|\n|name        |                |   |ty       |                      |ity       |\n|appId       |string          |C  |0..1     |A reference to the    |          |\n|            |                |   |         |application detection |          |\n|            |                |   |         |filter configured at  |          |\n|            |                |   |         |the UPF.              |          |\n|pccRuleId   |string          |M  |1        |Univocally identifies |          |\n|            |                |   |         |the PCC rule within a |          |\n|            |                |   |         |PDU session.          |          |\n|precedence  |integer         |O  |0..1     |Determines the order  |          |\n|            |                |   |         |in which this PCC rule|          |\n|            |                |   |         |is applied relative to|          |\n|            |                |   |         |other PCC rules within|          |\n|            |                |   |         |the same PDU session. |          |\n|refQosData  |array(string)   |O  |0..N     |A reference to the    |          |\n|            |                |   |         |QoSData policy type   |          |\n|            |                |   |         |decision type. It is  |          |\n|            |                |   |         |the qosId described in|          |\n|            |                |   |         |subclause\u00a05.6.2.8.    |          |\n|            |                |   |         |(NOTE)                |          |\n|refTcData   |array(string)   |O  |0..N     |A reference to the    |          |\n|            |                |   |         |TrafficControlData    |          |\n|            |                |   |         |policy decision type. |          |\n|            |                |   |         |It is the tcId        |          |\n|            |                |   |         |described in          |          |\n|            |                |   |         |subclause\u00a05.6.2.10.   |          |\n|            |                |   |         |(NOTE)                |          |\n|refChgData  |array(string)   |O  |0..N     |A reference to the    |          |\n|            |                |   |         |ChargingData policy   |          |\n|            |                |   |         |decision type. It is  |          |\n|            |                |   |         |the chgId described in|          |\n|            |                |   |         |subclause\u00a05.6.2.11.   |          |\n|            |                |   |         |(NOTE)                |          |\n|refUmData   |array(string)   |O  |0..N     |A reference to        |          |\n|            |                |   |         |UsageMonitoringData   |          |\n|            |                |   |         |policy decision type. |          |\n|            |                |   |         |It is the umId        |          |\n|            |                |   |         |described in          |          |\n|            |                |   |         |subclause\u00a05.6.2.12.   |          |\n|            |                |   |         |(NOTE)                |          |\n|refCondData |string          |O  |0..1     |A reference to the    |          |\n|            |                |   |         |condition data. It is |          |\n|            |                |   |         |the condId described  |          |\n|            |                |   |         |in subclause\u00a05.6.2.9. |          |\n|NOTE: Arrays are only introduced for future compatibility. In this release  |\n|of the specification the maximum number of elements in the array            |\n\n\n  5.6.2.7  Type SessionRule\n\n               Table\u00a05.6.2.7-1: Definition of type SessionRule\n\n|Attribute   |Data type      |P |Cardinal|Description             |Applicabi|\n|name        |               |  |ity     |                        |lity     |\n|authDefaultQ|DefaultQosInfor|O |0..1    |Authorized default QoS  |         |\n|os          |mation         |  |        |information.            |         |\n|sessRuleId  |string         |M |1       |Univocally identifies   |         |\n|            |               |  |        |the session rule within |         |\n|            |               |  |        |a PDU session.          |         |\n|refUmData   |string         |O |0..1    |A reference to          |         |\n|            |               |  |        |UsageMonitoringData     |         |\n|            |               |  |        |policy decision type. It|         |\n|            |               |  |        |is the umId described in|         |\n|            |               |  |        |subclause\u00a05.6.2.12.     |         |\n|refCondData |string         |O |0..1    |A reference to the      |         |\n|            |               |  |        |condition data. It is   |         |\n|            |               |  |        |the condId described in |         |\n|            |               |  |        |subclause\u00a05.6.2.9.      |         |\n\n\n\n", "Keywords": ""}, {"key": "Type QoSData", "numbering": "5.6.2.8", "title_level": 3, "desc": "5.6.2.8  Type QoSData\n\n                 Table\u00a05.6.2.8-1: Definition of type QoSData\n\n|Attribute   |Data type    |P  |Cardinal|Description              |Applicabil|\n|name        |             |   |ity     |                         |ity       |\n|maxbrUl     |BitRate      |O  |0..1    |Indicates the max        |          |\n|            |             |   |        |bandwidth in uplink.     |          |\n|maxbrDl     |BitRate      |O  |0..1    |Indicates the max        |          |\n|            |             |   |        |bandwidth in downlink.   |          |\n|gbrUl       |BitRate      |O  |0..1    |Indicates the guaranteed |          |\n|            |             |   |        |bandwidth in uplink.     |          |\n|gbrDL       |BitRate      |O  |0..1    |Indicates the max        |          |\n|            |             |   |        |guaranteed in downlink.  |          |\n|arp         |Arp          |M  |1       |Indicates the allocation |          |\n|            |             |   |        |and retention priority.  |          |\n|qnc         |boolean      |O  |0..1    |Indicates whether        |          |\n|            |             |   |        |notifications are        |          |\n|            |             |   |        |requested from 3GPP RAN  |          |\n|            |             |   |        |when the GFBR can no     |          |\n|            |             |   |        |longer (or again) be     |          |\n|            |             |   |        |fulfilled for a QoS Flow |          |\n|            |             |   |        |during the lifetime of   |          |\n|            |             |   |        |the QoS Flow.            |          |\n|reflectiveQo|boolean      |O  |0..1    |Indicates whether the QoS|          |\n|s           |             |   |        |information is reflective|          |\n|            |             |   |        |for the corresponding    |          |\n|            |             |   |        |service data flow.       |          |\n|sharingKeyDl|string       |O  |0..1    |Indicates, by containing |          |\n|            |             |   |        |the same value, what PCC |          |\n|            |             |   |        |rules may share resource |          |\n|            |             |   |        |in downlink direction.   |          |\n|sharingKeyUl|string       |O  |0..1    |Indicates, by containing |          |\n|            |             |   |        |the same value, what PCC |          |\n|            |             |   |        |rules may share resource |          |\n|            |             |   |        |in uplink direction.     |          |\n|maxPacketLos|PacketLossRat|O  |0..1    |Indicates the maximum    |          |\n|sRate       |e(FFS)       |   |        |rate for lost packets    |          |\n|            |             |   |        |that can be tolerated for|          |\n|            |             |   |        |the service data flow.   |          |\n|defQosFlowIn|boolean      |O  |0..1    |Indicates that the       |          |\n|dication    |             |   |        |dynamic PCC rule shall   |          |\n|            |             |   |        |always have its binding  |          |\n|            |             |   |        |with the QoS Flow        |          |\n|            |             |   |        |associated with the      |          |\n|            |             |   |        |default QoS rule         |          |\n\n\n\n", "Keywords": ""}, {"key": "Type ConditionData", "numbering": "5.6.2.9", "title_level": 3, "desc": "5.6.2.9  Type ConditionData\n\n              Table\u00a05.6.2.9-1: Definition of type ConditionData\n\n|Attribute    |Data type |P  |Cardinali|Description               |Applicabil|\n|name         |          |   |ty       |                          |ity       |\n|activationTim|DateTime  |O  |0..1     |The time when the decision|          |\n|e            |          |   |         |data shall be activated.  |          |\n|deactivationT|DateTime  |O  |0..1     |The time when the decision|          |\n|ime          |          |   |         |data shall be deactivated.|          |\n\n\n  Editor's note:  It is FFS whether other conditional information such as\n         ratType, ipCanType can be part of this type.\n\n\n", "Keywords": ""}, {"key": "Type TrafficControlData", "numbering": "5.6.2.10", "title_level": 3, "desc": "5.6.2.10 Type TrafficControlData\n\n           Table\u00a05.6.2.10-1: Definition of type TrafficControlData\n\n|Attribute name|Data type    |P |Cardinal|Description             |Applicabil|\n|              |             |  |ity     |                        |ity       |\n|flowAction    |FFS          |  |        |Enum determining what   |          |\n|              |             |  |        |action to perform on    |          |\n|              |             |  |        |traffic. Possible values|          |\n|              |             |  |        |are: [enable, disable,  |          |\n|              |             |  |        |enable_uplink,          |          |\n|              |             |  |        |enable_downlink,        |          |\n|              |             |  |        |redirect]               |          |\n|redirectInfo  |RedirectInfor|C |0..1    |It indicates whether the|          |\n|              |mation       |  |        |detected application    |          |\n|              |             |  |        |traffic should be       |          |\n|              |             |  |        |redirected to another   |          |\n|              |             |  |        |controlled address      |          |\n|muteNotif     |boolean      |O |0..1    |Indicates whether       |          |\n|              |             |  |        |applicat'on's start or  |          |\n|              |             |  |        |stop notification is to |          |\n|              |             |  |        |be muted.               |          |\n|trafficSteerin|string       |O |0..1    |Reference to a          |          |\n|gPolIdDl      |             |  |        |pre-configured traffic  |          |\n|              |             |  |        |steering policy for     |          |\n|              |             |  |        |downlink traffic at the |          |\n|              |             |  |        |SMF.                    |          |\n|trafficSteerin|string       |O |0..1    |Reference to a          |          |\n|gPolIdUl      |             |  |        |pre-configured traffic  |          |\n|              |             |  |        |steering policy for     |          |\n|              |             |  |        |uplink traffic at the   |          |\n|              |             |  |        |SMF.                    |          |\n|dnais         |array(string)|O |0..N    |Identifier of the target|          |\n|              |             |  |        |Data Network Access     |          |\n|dnaiReport    |DnaiReport   |O |0..1    |Contains the information|          |\n|              |             |  |        |about the AF            |          |\n|              |             |  |        |subscriptions of the    |          |\n|              |             |  |        |DNAI change.            |          |\n\n\n\n\n  Editor's note: It is FFS if sub types of TrafficControlData should be\n         created to handle redirect, traffic steering, etc.\n\n\n", "Keywords": ""}, {"key": "Type ChargingData", "numbering": "5.6.2.11", "title_level": 3, "desc": "5.6.2.11 Type ChargingData\n\n              Table\u00a05.6.2.11-1: Definition of type ChargingData\n\n|Attribute    |Data type    |P  |Cardinal|Description             |Applicabi|\n|name         |             |   |ity     |                        |lity     |\n|meteringMetho|MeteringMetho|O  |0..1    |Defines what parameters |         |\n|d            |d            |   |        |shall be metered for    |         |\n|             |             |   |        |offline charging.       |         |\n|offline      |boolean      |O  |0..1    |Indicates the online    |         |\n|             |             |   |        |charging is applicable  |         |\n|             |             |   |        |to the PDU session or   |         |\n|             |             |   |        |PCC rule.               |         |\n|online       |boolean      |O  |0..1    |Indicates the offline   |         |\n|             |             |   |        |charging is applicable  |         |\n|             |             |   |        |to the PDU session or   |         |\n|             |             |   |        |PCC rule.               |         |\n|ratingGroup  |string       |O  |0..1    |The charging key for the|         |\n|             |             |   |        |PCC rule used for rating|         |\n|             |             |   |        |purposes.               |         |\n|reportingLeve|ReportingLeve|O  |0..1    |Defines on what level   |         |\n|l            |l            |   |        |the SMF reports the     |         |\n|             |             |   |        |usage for the related   |         |\n|             |             |   |        |PCC rule.               |         |\n|serviceId    |string       |O  |0..1    |Indicates the identifier|         |\n|             |             |   |        |of the service or       |         |\n|             |             |   |        |service component the   |         |\n|             |             |   |        |service data flow in a  |         |\n|             |             |   |        |PCC rule relates to.    |         |\n|sponsorId    |string       |O  |0..1    |Indicates the sponsor   |         |\n|             |             |   |        |identity.               |         |\n|appSvcProvId |string       |O  |0..1    |Indicates the           |         |\n|             |             |   |        |application service     |         |\n|             |             |   |        |provider identity.      |         |\n|afChargingIde|string       |O  |0..1    |An identifier, provided |         |\n|ntifier      |             |   |        |from the AF, correlating|         |\n|             |             |   |        |the measurement for the |         |\n|             |             |   |        |Charging key/Service    |         |\n|             |             |   |        |identifier values in    |         |\n|             |             |   |        |this PCC rule with      |         |\n|             |             |   |        |application level       |         |\n|             |             |   |        |reports.                |         |\n|charingInform|CharingInform|O  |0..1    |Contains the CHF        |         |\n|ation        |ation(FFS)   |   |        |addresses of the PDU    |         |\n|             |             |   |        |session.                |         |\n\n\n\n", "Keywords": ""}, {"key": "Type UsageMonitoringData", "numbering": "5.6.2.12", "title_level": 3, "desc": "5.6.2.12 Type UsageMonitoringData\n\n          Table\u00a05.6.2. 12-1: Definition of type UsageMonitoringData\n\n|Attribute name|Data type |P  |Cardinal|Description               |Applicabi|\n|              |          |   |ity     |                          |lity     |\n|volumeThreshol|FFS       |O  |0..1    |Indicates the total volume|         |\n|d             |          |   |        |threshold.                |         |\n|volumeThreshol|FFS       |O  |0..1    |Indicates a volume        |         |\n|dUplink       |          |   |        |threshold in uplink.      |         |\n|volumeThreshol|FFS       |O  |0..1    |Indicates a volume        |         |\n|dDownlink     |          |   |        |threshold in downlink.    |         |\n|timeThreshold |DurationSe|O  |0..1    |Indicates a time          |         |\n|              |c         |   |        |threshold.                |         |\n|monitoringTime|DateTime  |O  |0..1    |Indicates the time at     |         |\n|              |          |   |        |which the UP function is  |         |\n|              |          |   |        |expected to reapply the   |         |\n|              |          |   |        |next thresholds (e.g.     |         |\n|              |          |   |        |nextVolThreshold)         |         |\n|nextVolThresho|FFS       |C  |0..1    |Indicates a volume        |         |\n|ld            |          |   |        |threshold after the       |         |\n|              |          |   |        |Monitoring Time.          |         |\n|nextVolThresho|FFS       |O  |0..1    |Indicates a volume        |         |\n|ldUplink      |          |   |        |threshold in uplink after |         |\n|              |          |   |        |the Monitoring Time.      |         |\n|nextVolThresho|FFS       |O  |0..1    |Indicates al volume       |         |\n|ldDownlink    |          |   |        |threshold in downlink     |         |\n|              |          |   |        |after the Monitoring Time.|         |\n|nextTimeThresh|DurationSe|C  |0..1    |Indicates a time threshold|         |\n|old           |c         |   |        |after the Monitoring.     |         |\n|inactivityTime|DurationSe|O  |0..1    |Defines the period of time|         |\n|              |c         |   |        |after which the time      |         |\n|              |          |   |        |measurement shall stop, if|         |\n|              |          |   |        |no packets are received.  |         |\n\n\n  Editor's note: It is FFS how to handle transient control data such as\n         requesting usage. Note that disabling usage monitoring can be done\n         by removing the usage monitoring data from the session level map.\n\n\n", "Keywords": ""}, {"key": "Type RedirectInformation", "numbering": "5.6.2.13", "title_level": 3, "desc": "5.6.2.13 Type RedirectInformation\n\n          Table\u00a05.6.2.13-1: Definition of type RedirectInformation\n\n|Attribute name |Data type   |P |Cardinal|Description             |Applicabi|\n|               |            |  |ity     |                        |lity     |\n|redirectAddress|RedirectAddr|O |0..1    |Indicates the type of   |         |\n|Type           |essType(FFS)|  |        |redirect address.       |         |\n|redirectServerA|string      |O |0..1    |Indicates the address of|         |\n|ddress         |            |  |        |the redirect server.    |         |\n\n\n\n", "Keywords": ""}, {"key": "Type FlowInformation", "numbering": "5.6.2.14", "title_level": 3, "desc": "5.6.2.14 Type FlowInformation\n\n            Table\u00a05.6.2.14-1: Definition of type FlowInformation\n\n|Attribute name  |Data type  |P  |Cardinal|Description             |Applicabi|\n|                |           |   |ity     |                        |lity     |\n|packetFilterUsag|boolean    |O  |0..1    |The packet shall be sent|         |\n|e               |           |   |        |to the UE.              |         |\n|tosTrafficClass |string     |O  |0..1    |Contains the Ipv4       |         |\n|                |           |   |        |Type-of-Service and mask|         |\n|                |           |   |        |field or the Ipv6       |         |\n|                |           |   |        |Traffic-Class field and |         |\n|                |           |   |        |mask field.             |         |\n|spi             |string     |O  |0..1    |The security parameter  |         |\n|                |           |   |        |index of the IPSec      |         |\n|                |           |   |        |packet.                 |         |\n|flowLabel       |string     |O  |0..1    |The Ipv6 flow label     |         |\n|                |           |   |        |header field.           |         |\n|flowDirection   |FlowDirecti|O  |0..1    |Indicates the           |         |\n|                |on         |   |        |direction/directions    |         |\n|                |           |   |        |that a filter is        |         |\n|                |           |   |        |applicable, downlink    |         |\n|                |           |   |        |only, uplink only or    |         |\n|                |           |   |        |both down- and uplink   |         |\n|                |           |   |        |(bidirectional).        |         |\n|sourceMacAddress|string     |O  |0..1    |Contains the source MAC |         |\n|                |           |   |        |address                 |         |\n|destinationMacAd|string     |O  |0..1    |Contains the destination|         |\n|dress           |           |   |        |MAC address             |         |\n|ethertype       |Ethertype(F|O  |0..1    |Indicates the type of   |         |\n|                |FS)        |   |        |Ethernet.               |         |\n|vid             |string     |O  |0..2    |Contains the VID of     |         |\n|                |           |   |        |C-TAG or S-TAG.         |         |\n|pcpdei          |string     |O  |0..2    |Contains the PCP/DEI of |         |\n|                |           |   |        |C-TAG or S-TAG.         |         |\n\n\n\n", "Keywords": ""}, {"key": "Type SmPolicyDeleteData", "numbering": "5.6.2.15", "title_level": 3, "desc": "5.6.2.15 Type SmPolicyDeleteData\n\n           Table\u00a05.6.2.15-1: Definition of type SmPolicyDeleteData\n\n|Attribute name  |Data type   |P |Cardinal|Description             |Applicabi|\n|                |            |  |ity     |                        |lity     |\n|ueTimeZone      |TimeZone    |  |0..1    |The time zone where the |         |\n|                |            |  |        |served UE is camping.   |         |\n|accuUsageReports|array(AccuUs|O |0..N    |Contains the usage      |         |\n|                |ageReport)  |  |        |report                  |         |\n\n\n\n", "Keywords": ""}, {"key": "Type QosCharacteristics", "numbering": "5.6.2.16", "title_level": 3, "desc": "5.6.2.16 Type QosCharacteristics\n\n           Table\u00a05.6.2.16-1: Definition of type QosCharacteristics\n\n|Attribute name|Data type  |P  |Cardinal|Description               |Applicabi|\n|              |           |   |ity     |                          |lity     |\n|resourceType  |ResourceTyp|M  |1       |Indicates whether the     |         |\n|              |e(FFS)     |   |        |resource type is GBR,     |         |\n|              |           |   |        |delay critical GBR, or    |         |\n|              |           |   |        |non-GBR.                  |         |\n|priorityLevel |ArpPriority|M  |1       |Unsigned integer          |         |\n|              |Level      |   |        |indicating the ARP        |         |\n|              |           |   |        |Priority Level, within the|         |\n|              |           |   |        |range 1 to 15.            |         |\n|              |           |   |        |Values are ordered in     |         |\n|              |           |   |        |decreasing order of       |         |\n|              |           |   |        |priority, i.e. with 1 as  |         |\n|              |           |   |        |the highest priority and  |         |\n|              |           |   |        |15 as the lowest priority.|         |\n|packetDelayBud|PacketDelBu|M  |1       |Unsigned indicates the    |         |\n|get           |dget       |   |        |packet delay budget.      |         |\n|              |           |   |        |Packet Delay Budget       |         |\n|              |           |   |        |expressed in milliseconds |         |\n|packetErrorRat|PacketErrRa|M  |1       |Unsigned integer          |         |\n|e             |te         |   |        |indicating the packet     |         |\n|              |           |   |        |error rate.               |         |\n|              |           |   |        |Examples:                 |         |\n|              |           |   |        |Packer Error Rate 10-6    |         |\n|              |           |   |        |shall be encoded as \"6\".  |         |\n|              |           |   |        |Packer Error Rate 10-2    |         |\n|              |           |   |        |shall be encoded as\"2\".   |         |\n|averagingWindo|AverWindow |C  |0..1    |Indicates the averaging   |         |\n|w             |           |   |        |window.                   |         |\n|              |           |   |        |This IE shall be present  |         |\n|              |           |   |        |only for GBR QoS flows.   |         |\n|maximumDataBur|MaxDataBurs|C  |0..1    |Unsigned Integer.Indicates|         |\n|st Volume     |tVol       |   |        |the maximum data burst.   |         |\n|              |           |   |        |This IE shall be present  |         |\n|              |           |   |        |when the packet delay     |         |\n|              |           |   |        |budget is equal to or     |         |\n|              |           |   |        |lower than 20 msec.       |         |\n\n\n  Editor's note:  It is FFS if DurationSec granularity is enough to express\n         time values or if finer granularity is needed.\n\n  Editor's note: Maximum Data Burst Volume, Averaging Window and Priority\n         Level apply to standardized 5QI too. It is FFS how this can be\n         reflected in the TS.\n\n\n", "Keywords": ""}, {"key": "Type ChargingInformation", "numbering": "5.6.2.17", "title_level": 3, "desc": "5.6.2.17 Type ChargingInformation\n\n          Table\u00a05.6.2.17-1: Definition of type ChargingInformation\n\n|Attribute name |Data type  |P |Cardinal|Description              |Applicabil|\n|               |           |  |ity     |                         |ity       |\n|secondaryChfAdd|Uri        |M |1       |Contains the secondary   |          |\n|ress           |           |  |        |CHF address.             |          |\n\n\n\n", "Keywords": ""}, {"key": "Type AccuUsageReport", "numbering": "5.6.2.18", "title_level": 3, "desc": "5.6.2.18 Type AccuUsageReport\n\n            Table\u00a05.6.2.18-1: Definition of type AccuUsageReport\n\n|Attribute name|Data type |P  |Cardinal|Description               |Applicabil|\n|              |          |   |ity     |                          |ity       |\n|volUsage      |Volume(FFS|O  |0..1    |Indicates a total         |          |\n|              |)         |   |        |accumulated volume usage. |          |\n|volUsageUplink|Volume(FFS|O  |0..1    |Indicates an accumulated  |          |\n|              |)         |   |        |volume usage in uplink.   |          |\n|volUsageDownli|Volume(FFS|O  |0..1    |Indicates an accumulated  |          |\n|nk            |)         |   |        |volume usage in downlink. |          |\n|timeUsage     |DurationSe|O  |0..1    |Indicates an accumulated  |          |\n|              |c         |   |        |time usage.               |          |\n|nextVolUsage  |Volume(FFS|C  |0..1    |Indicates an accumulated  |          |\n|              |)         |   |        |volume usage after the    |          |\n|              |          |   |        |Monitoring Time.          |          |\n|nextVolUsageUp|Volume(FFS|O  |0..1    |Indicates an accumulated  |          |\n|link          |)         |   |        |volume usage in uplink    |          |\n|              |          |   |        |after the Monitoring Time.|          |\n|nextVolUsageDo|Volume(FFS|0  |0..1    |Indicates an accumulated  |          |\n|wnlink        |)         |   |        |volume usage in downlink  |          |\n|              |          |   |        |after the Monitoring Time.|          |\n|nextTimeUsage |DurationSe|C  |0..1    |Indicates an accumulated  |          |\n|              |c         |   |        |time usage after the      |          |\n|              |          |   |        |Monitoring.               |          |\n\n\n\n", "Keywords": ""}, {"key": "Type SmPolicyUpdateContextData", "numbering": "5.6.2.19", "title_level": 3, "desc": "5.6.2.19 Type SmPolicyUpdateContextData\n\n       Table\u00a05.6.2.19-1: Definition of type SmPolicyUpdateContextData\n\n|Attribute name|Data type   |P  |Cardinali|Description            |Applicabil|\n|              |            |   |ty       |                       |ity       |\n|accNetChId    |AccNetChId  |O  |0..1     |Indicates the access   |          |\n|              |            |   |         |network charging       |          |\n|              |            |   |         |identifier for the PCC |          |\n|              |            |   |         |rule(s) or whole PDU   |          |\n|              |            |   |         |session.               |          |\n|accessType    |AccessType  |O  |0..1     |The Access Type where  |          |\n|              |            |   |         |the served UE is       |          |\n|              |            |   |         |camping.               |          |\n|ratType       |RatType     |O  |0..1     |The RAT Type where the |          |\n|              |            |   |         |served UE is camping.  |          |\n|servingNetwork|NetworkId   |O  |0..1     |The serving network    |          |\n|              |            |   |         |where the served UE is |          |\n|              |            |   |         |camping.               |          |\n|userLocationIn|UserLocation|O  |0..1     |The location of the    |          |\n|formation     |            |   |         |served UE is camping.  |          |\n|ueTimeZone    |TimeZone    |O  |0..1     |The time zone where the|          |\n|              |            |   |         |served UE is camping.  |          |\n|pei           |Pei         |O  |0..1     |The Permanent Equipment|          |\n|              |            |   |         |Identifier of the      |          |\n|              |            |   |         |served UE.             |          |\n|ipv4Address   |Ipv4Addr    |O  |0..1     |The IPv4 Address of the|          |\n|              |            |   |         |served UE.             |          |\n|ipv6AddressPre|Ipv6Prefix  |O  |0..1     |The Ipv6 Address Prefix|          |\n|fix           |            |   |         |of the served UE.      |          |\n|relIpv6Address|Ipv6Prefix  |O  |0..1     |Indicates the released |          |\n|Prefix        |            |   |         |IPv6 Address Prefix of |          |\n|              |            |   |         |the served UE in       |          |\n|              |            |   |         |multi-homing case.     |          |\n|subscribedSess|Ambr        |O  |0..1     |Subscribed             |          |\n|ionAmbr       |            |   |         |Session-AMBR.          |          |\n|subscribedDefa|DefaultQosIn|O  |0..1     |Subscribed Default QoS |          |\n|ultQosInformat|formation   |   |         |Information.           |          |\n|ion           |            |   |         |                       |          |\n|accuUsageRepor|array(AccuUs|O  |0..N     |Accumulate usage       |          |\n|ts            |ageReport)  |   |         |report.                |          |\n|3gppPsDataOffS|boolean     |O  |0..1     |If it is included and  |          |\n|tatus         |            |   |         |set to true, the 3GPP  |          |\n|              |            |   |         |PS Data Off is         |          |\n|              |            |   |         |activated by the UE.   |          |\n|appDetectionIn|array(AppDet|O  |0..N     |Reports the start/stop |ADC       |\n|fos           |ectionInfo) |   |         |of the application     |          |\n|              |            |   |         |traffic and detected   |          |\n|              |            |   |         |SDF descriptions if    |          |\n|              |            |   |         |applicable.            |          |\n\n\n\n", "Keywords": ""}, {"key": "Type DnaiReport", "numbering": "5.6.2.20", "title_level": 3, "desc": "'5.6.2.20   Type DnaiReport\n\n               Table\u00a05.6.2.10-1: Definition of type DnaiReport\n\n|Attribute name|Data type    |P |Cardinal|Description             |Applicabil|\n|              |             |  |ity     |                        |ity       |\n|earlyNotificat|boolean      |O |0..1    |When it is included and |          |\n|ion           |             |  |        |set to true, indicates  |          |\n|              |             |  |        |the early notification  |          |\n|              |             |  |        |is required.            |          |\n|lateNotificati|boolean      |O |0..1    |When it is included and |          |\n|on            |             |  |        |set to true, indicates  |          |\n|              |             |  |        |the late notification is|          |\n|              |             |  |        |required.               |          |\n|NOTE: Either earlyNotification or lateNotification or both shall be included|\n\n\n\n", "Keywords": ""}, {"key": "Type TerminationNotification", "numbering": "5.6.2.21", "title_level": 3, "desc": "5.6.2.21 Type TerminationNotification\n\n        Table\u00a05.6.2.21-1: Definition of type TerminationNotification\n\n|Attribute name|Data type   |P |Cardinal|Description              |Applicabi|\n|              |            |  |ity     |                         |lity     |\n|pduSessionId  |PduSessionId|M |1       |PDU session id           |         |\n\n\n\n", "Keywords": ""}, {"key": "Type AppDetectionInfo", "numbering": "5.6.2.22", "title_level": 3, "desc": "5.6.2.22 Type AppDetectionInfo\n\n          Table\u00a05.6.2.22-1: Definition of type SmPolicyContextData\n\n|Attribute name|Data type    |P |Cardinali|Description            |Applicabil|\n|              |             |  |ty       |                       |ity       |\n|instanceId    |string       |O |1        |Identifier dynamically |          |\n|              |             |  |         |assigned by the SMF in |          |\n|              |             |  |         |order to allow         |          |\n|              |             |  |         |correlation of         |          |\n|              |             |  |         |application Start and  |          |\n|              |             |  |         |Stop events to the     |          |\n|              |             |  |         |specific service data  |          |\n|              |             |  |         |flow description, if   |          |\n|              |             |  |         |service data flow      |          |\n|              |             |  |         |descriptions are       |          |\n|              |             |  |         |deducible.             |          |\n|sdfDescription|array(FlowInf|O |0..N     |Contains the detected  |          |\n|s             |ormation)    |  |         |service data flow      |          |\n|              |             |  |         |descriptions if they   |          |\n|              |             |  |         |are deducible.         |          |\n\n\n\n", "Keywords": ""}, {"key": "Type AccNetChId", "numbering": "5.6.2.23", "title_level": 3, "desc": "5.6.2.23 Type AccNetChId\n\n               Table\u00a05.6.2.23-1: Definition of type AccNetChId\n\n|Attribute name|Data type   |P  |Cardinali|Description            |Applicabil|\n|              |            |   |ty       |                       |ity       |\n|pccRuleId     |array(string|O  |0..N     |Contains the identifier|          |\n|              |)           |   |         |of the PCC rule(s)     |          |\n|              |            |   |         |associated to the      |          |\n|              |            |   |         |provided Access Network|          |\n|              |            |   |         |Charging Identifier.   |          |\n|sessionChScope|boolean     |O  |0..1     |When it is included and|          |\n|              |            |   |         |set to true, indicates |          |\n|              |            |   |         |the Access Network     |          |\n|              |            |   |         |Charging Identifier    |          |\n|              |            |   |         |applies to the whole   |          |\n|              |            |   |         |PDU Session            |          |\n\n\n\n", "Keywords": ""}, {"key": "Type RequestedRuleData", "numbering": "5.6.2.24", "title_level": 3, "desc": "5.6.2.24 Type RequestedRuleData\n\n           Table\u00a05.6.2.24-1: Definition of type RequestedRuleData\n\n|Attribute    |Data type |P |Cardinal|Description             |Applicabili|\n|name         |          |  |ity     |                        |ty         |\n|reqData      |array(Requ|M |1..N    |Array of requested rule |           |\n|             |estedRuleD|  |        |data type elements      |           |\n|             |ataType)  |  |        |indicating what type of |           |\n|             |          |  |        |rule data is requested  |           |\n|             |          |  |        |for the corresponding   |           |\n|             |          |  |        |referenced PCC rules.   |           |\n\n\n\n", "Keywords": ""}, {"key": "Type RequestedUsageData", "numbering": "5.6.2.25", "title_level": 3, "desc": "5.6.2.25 Type RequestedUsageData\n\n           Table\u00a05.6.2.25-1: Definition of type RequestedUsageData\n\n|Attribute    |Data type |P |Cardinal|Description             |Applicabili|\n|name         |          |  |ity     |                        |ty         |\n|allUmIds     |boolean   |C |0..1    |This boolean indicates  |           |\n|             |          |  |        |whether requested usage |           |\n|             |          |  |        |data applies to all     |           |\n|             |          |  |        |usage monitoring data   |           |\n|             |          |  |        |instances. When it's not|           |\n|             |          |  |        |included, it means      |           |\n|             |          |  |        |requested usage data    |           |\n|             |          |  |        |shall only apply to the |           |\n|             |          |  |        |usage monitoring data   |           |\n|             |          |  |        |instances referenced by |           |\n|             |          |  |        |the refUmIds attribute. |           |\n\n\n\n", "Keywords": ""}, {"key": "Simple data types and enumerations", "numbering": "5.6.3", "title_level": 2, "desc": "5.6.3  Simple data types and enumerations\n\n\n", "Keywords": ""}, {"key": "Introduction", "numbering": "5.6.3.1", "title_level": 3, "desc": "5.6.3.1  Introduction\n\nThis subclause defines simple data types and enumerations that can be\nreferenced from data structures defined in the previous subclauses.\n\n\n", "Keywords": ""}, {"key": "Simple data types", "numbering": "5.6.3.2", "title_level": 3, "desc": "5.6.3.2  Simple data types\n\nThe simple data types defined in table\u00a05.6.3.2-1 shall be supported. For\nadditional simple data types see 3GPP\u00a0TS\u00a029.571\u00a0[11].\n\n                     Table 5.6.3.2-1: Simple data types\n\n|Type Name    |Type        |Description                        |Applicabili|\n|             |Definition  |                                   |ty         |\n|ArpPriorityLe|integer     |Unsigned integer indicating the ARP|           |\n|vel          |            |Priority Level (see                |           |\n|             |            |subclause\u00a05.7.2.2 of               |           |\n|             |            |3GPP\u00a0TS\u00a023.501\u00a0[8]), within the    |           |\n|             |            |range 1 to 15.                     |           |\n|             |            |Values are ordered in decreasing   |           |\n|             |            |order of priority, i.e. with 1 as  |           |\n|             |            |the highest priority and 15 as the |           |\n|             |            |lowest priority.                   |           |\n|             |            |In an OpenAPI\u00a0Specification\u00a0[3]    |           |\n|             |            |schema, the format shall be        |           |\n|             |            |designated as \"ArpPriorityLevel\".  |           |\n|PreEmpCap    |boolean     |Pre-emption-Capability where 0     |           |\n|             |            |indicates that assigned resources  |           |\n|             |            |of another IP flow can be assigned |           |\n|             |            |to the P flow, while 1 indicates   |           |\n|             |            |that assigned resources of other IP|           |\n|             |            |flows cannot be assigned to the IP |           |\n|             |            |flow.                              |           |\n|PreEmpVul    |boolean     |Pre-emption-Vulnerability where 0  |           |\n|             |            |indicates pre-emption on the IP    |           |\n|             |            |flow cannot be done, while 1       |           |\n|             |            |indicates that pre-emption on the  |           |\n|             |            |IP flow can be done.               |           |\n\n\n\n", "Keywords": ""}, {"key": "Enumeration: FlowDirection", "numbering": "5.6.3.3", "title_level": 3, "desc": "5.6.3.3  Enumeration: FlowDirection\n\n                 Table\u00a05.6.3.3-1: Enumeration FlowDirection\n\n|Enumeration value |Description                                |Applicabili|\n|                  |                                           |ty         |\n|DOWNLINK          |The corresponding filter applies for       |           |\n|                  |traffic to the UE.                         |           |\n|UPLINK            |The corresponding filter applies for       |           |\n|                  |traffic from the UE.                       |           |\n|BIDIRECTIONAL     |The corresponding filter applies for       |           |\n|                  |traffic both to and from the UE.           |           |\n\n\n  Editor's note: An Unspecified value would be required if the data type is\n         used to report filter information received from the UE.\n\n\n", "Keywords": ""}, {"key": "Enumeration: ReportingLevel", "numbering": "5.6.3.4", "title_level": 3, "desc": "5.6.3.4  Enumeration: ReportingLevel\n\n                 Table\u00a05.6.3.4-1: Enumeration ReportingLevel\n\n|Enumeration value          |Description                       |Applicabili|\n|                           |                                  |ty         |\n|SER_ID_LEVEL               |Indicates that the usage shall be |           |\n|                           |reported on service id and rating |           |\n|                           |group combination level.          |           |\n|RAT_GR_LEVEL               |Indicates that the usage shall be |           |\n|                           |reported on rating group level.   |           |\n|SPON_CON_LEVEL             |Indicates that the usage shall be |           |\n|                           |reported on sponsor identity and  |           |\n|                           |rating group combination level.   |           |\n\n\n\n", "Keywords": ""}, {"key": "Enumeration: MeteringMethod", "numbering": "5.6.3.5", "title_level": 3, "desc": "5.6.3.5  Enumeration: MeteringMethod\n\n                 Table\u00a05.6.3.5-1: Enumeration MeteringMethod\n\n|Enumeration value |Description                                |Applicabili|\n|                  |                                           |ty         |\n|DURATION          |Indicates that the duration of the service |           |\n|                  |data flow traffic shall be metered.        |           |\n|VOLUME            |Indicates that volume of the service data  |           |\n|                  |flow traffic shall be metered.             |           |\n|DURATION_VOLUME   |Indicates that the duration and the volume |           |\n|                  |of the service data flow traffic shall be  |           |\n|                  |metered.                                   |           |\n|EVENT             |Indicates that events of the service data  |           |\n|                  |flow traffic shall be metered.             |           |\n\n\n\n", "Keywords": ""}, {"key": "Enumeration: PolicyControlRequestTrigger", "numbering": "5.6.3.6", "title_level": 3, "desc": "5.6.3.6  Enumeration: PolicyControlRequestTrigger\n\n          Table\u00a05.6.3.6-1: Enumeration PolicyControlRequestTrigger\n\n|Enumeration value |Description                                |Applicabil|\n|                  |                                           |ity       |\n|PLMN_CH           |PLMN Change                                |          |\n|RES_MO_RE         |A request for resource modification has    |          |\n|                  |been received by the SMF.                  |          |\n|                  |The SMF always reports to the PCF.         |          |\n|AC_TY_CH          |Access Type Change                         |          |\n|UE_IP_CH          |UE IP address change. The SMF always       |          |\n|                  |reports to the PCF.                        |          |\n|UE MAC_CH         |A new UE MAC address is detected or a used |          |\n|                  |UE MAC address is inactive for a specific  |          |\n|                  |period                                     |          |\n|AN_CH_COR         |Access Network Charging Correlation        |          |\n|                  |Information                                |          |\n|US_RE             |The PDU Session or the Monitoring key      |          |\n|                  |specific resources consumed by a UE either |          |\n|                  |reached the threshold or needs to be       |          |\n|                  |reported for other reasons.                |          |\n|APP_STA           |The start of application traffic has been  |          |\n|                  |detected.                                  |          |\n|APP_STO           |The stop of application traffic has been   |          |\n|                  |detected.                                  |          |\n|AN_INFO           |Access Network Information report          |          |\n|CM_SES_FAIL       |Credit management session failure          |          |\n|PS_DA_OFF         |The SMF reports when the 3GPP PS Data Off  |          |\n|                  |status changes. The SMF always reports to  |          |\n|                  |the PCF.                                   |          |\n|DEF_QOS_CH        |Default QoS Change. The SMF always reports |          |\n|                  |to the PCF.                                |          |\n|SE_AMBR_CH        |Session AMBR Change. The SMF always reports|          |\n|                  |to the PCF.                                |          |\n|PCC_RMV           |The SMF reports when the PCC rule is       |          |\n|                  |removed. The SMF always reports to the PCF.|          |\n|QOS_STO           |The SMF notify the PCF when receiving      |          |\n|                  |notification from RAN that QoS targets of  |          |\n|                  |the QoS Flow cannot be fulfilled           |          |\n|QOS_STA           |The SMF notify the PCF when receiving      |          |\n|                  |notification from RAN that QoS targets of  |          |\n|                  |the QoS Flow can be fulfilled again        |          |\n|NO_CREDIT         |Out of credit                              |          |\n|PRA_CH            |Change of UE presence in Presence Reporting|          |\n|                  |Area                                       |          |\n|SAREA_CH          |Location Change with respect to the Serving|          |\n|                  |Area                                       |          |\n|SCNN_CH           |Location Change with respect to the Serving|          |\n|                  |CN node                                    |          |\n|ENF_PCC_RUL       |Enforced PCC rule request where the SMF is |          |\n|                  |performing a PCC rules request as          |          |\n|                  |instructed by the PCF.                     |          |\n|RE_TIMEOUT        |Indicates the SMF generated the request    |          |\n|                  |because there has been a PCC revalidation  |          |\n|                  |timeout                                    |          |\n\n\n\n", "Keywords": ""}, {"key": "Enumeration: RequestedRuleDataType", "numbering": "5.6.3.7", "title_level": 3, "desc": "5.6.3.7  Enumeration: RequestedRuleDataType\n\n             Table\u00a05.6.3.7-1: Enumeration RequestedRuleDataType\n\n|Enumeration value          |Description                       |Applicabili|\n|                           |                                  |ty         |\n|CH_ID                      |Indicates that the requested rule |           |\n|                           |data is the charging identifier.  |           |\n|MS_TIME_ZONE               |Indicates that the requested      |           |\n|                           |access network info type is the   |           |\n|                           |UE's timezone.                    |           |\n|USER_LOC_INFO              |Indicates that the requested      |           |\n|                           |access network info type is the   |           |\n|                           |UE's location.                    |           |\n\n\n\n", "Keywords": ""}, {"key": "Error handling", "numbering": "5.7", "title_level": 1, "desc": "5.7  Error handling\n\nThis subclause will include a reference to the general error handling\nprinciples specified in TS 29.501, and further specify any general error\nhandling aspect specific to the API, if any Error handling specific to each\nmethod (and resource) is specified in subclauses 5.3 and 5.4.\n\n\n", "Keywords": ""}, {"key": "Feature negotiation", "numbering": "5.8", "title_level": 1, "desc": "", "Keywords": ""}, {"key": "AF", "desc": "Application Function", "numbering": "3.2", "Keywords": ""}, {"key": "API", "desc": "Application Programming Interface", "numbering": "3.2", "Keywords": ""}, {"key": "DNN", "desc": "Data Network Name", "numbering": "3.2", "Keywords": ""}, {"key": "GFBR", "desc": "Guaranteed Flow Bit Rate", "numbering": "3.2", "Keywords": ""}, {"key": "HTTP", "desc": "Hypertext Transfer Protocol", "numbering": "3.2", "Keywords": ""}, {"key": "NEF", "desc": "Network Exposure Function", "numbering": "3.2", "Keywords": ""}, {"key": "NF", "desc": "Network Function", "numbering": "3.2", "Keywords": ""}, {"key": "PCC", "desc": "Policy and Charging Control", "numbering": "3.2", "Keywords": ""}, {"key": "PCF", "desc": "Policy Control Function", "numbering": "3.2", "Keywords": ""}, {"key": "QoS", "desc": "Quality of Service", "numbering": "3.2", "Keywords": ""}, {"key": "SDF", "desc": "Service Data Flow", "numbering": "3.2", "Keywords": ""}, {"key": "SMF", "desc": "Session Management Function", "numbering": "3.2", "Keywords": ""}, {"key": "UDR", "desc": "Unified Data Repository", "numbering": "3.2", "Keywords": ""}, {"key": "UE", "desc": "User Equipment", "numbering": "3.2", "Keywords": ""}]